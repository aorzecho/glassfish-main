<?xml version="1.0" encoding="iso-8859-1"?>

<project name="dbschema source integration" default="dbschema.build" basedir=".">
	<!-- import build.xml for init target and inherited properties -->
	<import file="build.xml"/>	
	
	<target name="build" depends="dbschema.checkout, dbschema.build" />
	
	<target name="dbschema.checkout" >
        <echo message="checkout dbschema sources from ${dbschema.svn.url}."/>
        <exec executable="svn" dir="${external.dir}" failonerror="true" >
	    <arg line="checkout" />
            <arg line="${dbschema.svn.url}" />
            <arg line="dbschema" />
	</exec>
    </target>
    <target name="dbschema.build" depends="dbschema.checkout" >
        <exec executable="mvn" dir="${external.dir}/dbschema" failonerror="true" >
	    <arg line="-Dmaven.repo.local=${maven.repo.local}" />
            <arg line="install" />
	</exec>
    </target>

    <target name="dbschema.publish" >
        <exec executable="mvn" dir="${external.dir}/dbschema" failonerror="true" >
	    <arg line="-Dmaven.repo.local=${maven.repo.local}" />
	    <arg line="-DaltDeploymentRepository=rator.sfbay::default::dav:http://glassfish-maven-repository.sfbay/maven/repositories/glassfish/" />
            <arg line="deploy" />
	</exec>
    </target>

</project>
