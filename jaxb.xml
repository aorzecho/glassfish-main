<?xml version="1.0" encoding="iso-8859-1"?>

<project name="JAXB source integration" default="build" basedir=".">

    <import file="build.xml"/>
    <import file="build-taskdefs.xml"/>

    <target name="build" depends="init, jaxb.checkout, jaxb.build"/>    

    <target name="jaxb.checkout" unless="nocheckout">
        <exec executable="svn" dir="${external.dir}" failonerror="true" >
	   <arg line="checkout" />
           <arg line="${jaxb.svn.url}" />
           <arg line="jaxb" />
        </exec>
    </target>

    <target name="jaxb.build">
	<echo message="JDK_1.5 = ${JDK_1.5}" />
        <exec executable="ant" dir="${external.dir}/jaxb" failonerror="true" newenvironment="false" >
            <arg line="clean depsfromsource" />
            <arg line="-Djaxb.version=${jaxb.version}"/>
    	    <arg line="-Dmaven.repo.local=${maven.repo.local}" />
    	    <arg line="-Dexternal.dir=${external.dir}" />
    	    <arg line="-DJDK_1.5=${JDK_1.5}" />
            <env key="JAVA_HOME" value="${JDK_1.5}" />
        </exec>
    </target>
  
</project>
