<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-configtransrecovery"></a><h4>GlassFish サーバー によるトランザクションの復元方法を設定する</h4><a name="indexterm-2"></a><p>トランザクションは、サーバークラッシュまたはリソースマネージャークラッシュのいずれかにより未完了になる可能性があります。これらの未完了トランザクションを完了させ、障害を回復させる必要があります。GlassFish サーバー は、これらの障害を回復し、サーバーの起動時にそのトランザクションを完了するように設計されています。</p>

<p>復元を行なっている間に一部のリソースにアクセスできない場合は、トランザクションを回復しようとしてサーバーの再起動が遅れている可能性があります。</p>

<p>トランザクションが複数のサーバーにわたっている場合は、トランザクションを開始したサーバーがトランザクションの結果を取得しようとしてほかのサーバーに問い合わせる場合があります。ほかのサーバーにアクセスできない場合、そのトランザクションは「特殊な結果判別」フィールドを使用してその結果を判別します。</p>

<ol>
<li><b>ナビゲーションツリーで、「設定」ノードを展開します。</b></li>
<li><b>設定するインスタンスを選択します。</b><ul>
<li><b>特定のインスタンスを設定するには、そのインスタンスの設定ノードを選択します。たとえば、デフォルトインスタンス <tt>server</tt> の場合は、<tt>server-config</tt> ノードを選択します。</b></li>
<li><b>すべてのインスタンスのデフォルト値を設定するには、<tt>default-config</tt> ノードを選択します。</b></li></ul></li>
<li><b>「トランザクションサービス」ノードを選択します。</b><p>「トランザクションサービス」ページが開きます。</p></li>
<li><b>「トランザクションサービス」ページの「On Restart Enabled」チェックボックスをオンにして未完了のトランザクションを回復できるようにします。 </b><p>デフォルトで、「有効」チェックボックスはオフです。</p></li>
<li><b>「再試行タイムアウト」フィールドに、GlassFish サーバー が到達不可能なサーバーへの接続を試行する秒数を入力します。</b><p>デフォルト値は 600 (10 分) です。</p></li>
<li><b>「特殊な結果判別」ドロップダウンリストから、トランザクションで到達不可能なサーバーに関するポリシーを選択します。</b><p>「コミット」を選択する正当な理由がない限り、「特殊な結果判別」は「ロールバック」のままにしてください (デフォルト)。未確定なトランザクションのコミットは、アプリケーションのデータの整合性を損なう可能性があります。</p></li>
<li><b>「保存」をクリックします。</b></li>
<li><b>GlassFish サーバー を再起動します。</b></li></ol><h6>参照</h6>
<ul><li><p><a href="task-configtransservice.html">「トランザクションサービスを設定する」</a></p>

</li>
<li><p><a href="task-settranstimeout.html">「トランザクションタイムアウト値を設定する」</a></p>

</li>
<li><p><a href="task-settranslog.html">「トランザクションログの位置を設定する」</a></p>

</li>
<li><p><a href="task-setkeyptinterval.html">「キーポイント間隔を設定する」</a></p>

</li></ul>


<small>Copyright &#169; 2010, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">著作権について</a></small>
