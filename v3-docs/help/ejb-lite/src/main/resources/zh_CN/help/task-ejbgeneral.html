<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-ejbgeneral"></a><h4>配置 EJB 设置</h4><a name="indexterm-1"></a><a name="indexterm-2"></a><ol>
<li><b>在导航树中，选择&#8220;配置&#8221;节点。</b></li>
<li><b>选择&#8220;EJB 容器&#8221;节点。</b><p>此时将打开 "Enterprise JavaBeans (EJB)" 页面。</p></li>
<li><b>在&#8220;会话存储位置&#8221;字段中，键入会话存储位置的新值。</b><p>此字段指定在文件系统上存储钝化有状态会话 Bean 和持久性 SFSB 检查点状态的目录。默认值为 <tt>${com.sun.aas.instanceRoot}/session-store</tt>。</p><p>钝化 Bean 是已将其状态写入文件系统上的文件中的有状态会话 Bean。钝化 Bean 通常已空闲一段时间，客户机当前也未对其进行访问。同样，持久性 SFSB 检查点状态是已将其状态写入文件系统上的文件中的各个 SFSB。</p><p>仅当禁用 EJB 容器可用性时，此设置才适用于 SFSB 检查点状态。要禁用可用性，请参见<a href="../../../ejb/zh_CN/help/task-ejbcontaineravailability.html">为 EJB 容器配置可用性设置</a>。</p></li>
<li><b>选择&#8220;选项 B&#8221;或&#8220;选项 C&#8221;单选按钮以设置&#8220;提交选项&#8221;。</b><p>&#8220;提交选项&#8221;指定容器高速缓存事务之间的钝化 Bean 实例的方式。</p><ul>
<li><b>如果选择&#8220;选项 B&#8221;（默认选项），则容器将高速缓存事务之间的就绪实例。</b></li>
<li><b>如果选择&#8220;选项 C&#8221;，则容器不会高速缓存事务之间的就绪实例。</b></li></ul></li>
<li><b>在&#8220;初始和最小池大小&#8221;字段中，键入要在池中维护的 Bean 的最小数目。</b><p>默认值为 0。</p></li>
<li><b>在&#8220;最大池大小&#8221;字段中，键入容器可以同时在池中维护的 Bean 的最大数目。</b><p>默认值为 32。</p></li>
<li><b>在&#8220;池大小调整数量&#8221;字段中，键入当 Bean 处于空闲状态的时间超过&#8220;池空闲超时&#8221;字段中指定的时间时，要从池中删除的 Bean 的数目。</b><p>该值必须至少为 0，并小于&#8220;最大池大小&#8221;值。默认值为 8。</p></li>
<li><b>在&#8220;池空闲超时&#8221;字段中，键入在将池中的 Bean 从池中删除之前，Bean 可以保持空闲状态的时间（以秒为单位）。</b><p>超过此时间后，Bean 将被销毁。如果值为 0，则表示 Bean 可以无限期保持空闲状态。默认值为 600。</p></li>
<li><b>在&#8220;最大高速缓存大小&#8221;字段中，键入要保留在高速缓存中的 Bean 的最大数目。</b><p>增加要缓存的 Bean 的最大数目可以免除创建和删除 Bean 的系统开销。但是，如果增大高速缓存，服务器将消耗更多内存和资源。请确保操作环境足够用于高速缓存设置。如果值为 0，则表示高速缓存无界限。默认值为 512。</p></li>
<li><b>在&#8220;高速缓存大小调整数量&#8221;字段中，键入当高速缓存已满时，要钝化的 Bean 的数目。</b><p>达到高速缓存的 Bean 的最大数目之后，容器将从备份存储中删除一些钝化 Bean。该值还指定当池中没有可用的 Bean 时，如果收到请求将要创建的 Bean 的数目。该值必须大于 1，并小于&#8220;最大高速缓存大小&#8221;值。默认值为 32。</p></li>
<li><b>在&#8220;删除超时&#8221;字段中，键入将钝化 Bean 从会话存储中删除之前经过的秒数。</b><p>如果值为 0，则指定容器不自动删除非活动 Bean。如果&#8220;删除超时&#8221;值小于或等于&#8220;高速缓存空闲超时&#8221;值，则 Bean 将在不钝化的情况下立即删除。默认值为 5400。</p></li>
<li><b>从&#8220;删除选择策略&#8221;下拉式列表中，选择容器用于将有状态会话 Bean 从高速缓存中删除的策略。</b><p>选项如下：</p><dl><dt>最近未使用 (NRU)</dt>
<dd><p>（默认选项）删除最近未使用的 Bean。</p>

</dd>
<dt>先进先出 (FIFO)</dt>
<dd><p>删除高速缓存中最旧的 Bean。</p>

</dd>
<dt>最近最少使用 (LRU)</dt>
<dd><p>删除最近最少访问的 Bean。</p>

</dd>
</dl>
</li>
<li><b>在&#8220;高速缓存空闲超时&#8221;字段中，键入 Bean 可以在高速缓存中保持空闲状态的最大秒数。</b><p>超过此时间后，容器可以钝化此 Bean。如果值为 0，则指定 Bean 永不成为钝化的候选。默认值为 600。</p></li>
<li>（可选的）<b>在&#8220;其他属性&#8221;部分中，指定其他属性。</b><p>GlassFish Server 不定义 EJB 容器的任何其他属性。</p><ul>
<li><b>要添加属性，请单击&#8220;添加属性&#8221;按钮。在显示的空白行中，在&#8220;名称&#8221;字段中键入属性名称，在&#8220;值&#8221;字段中键入属性值。</b></li>
<li><b>要修改属性，请编辑该属性的&#8220;值&#8221;字段。</b></li>
<li><b>要删除属性，请选中位于您要删除属性的&#8220;名称&#8221;字段左边的复选框，然后单击&#8220;删除属性&#8221;按钮。</b></li></ul></li>
<li><b>单击&#8220;保存&#8221;。</b>
<hr><p><b>提示 - </b>要返回到默认设置，请单击&#8220;装入默认值&#8221;按钮，然后单击&#8220;保存&#8221;。</p>


<hr>
</li>
<li><b>重新启动 GlassFish Server。</b></li></ol><h6>另请参见</h6>
<ul><li><p><a href="../../../ejb/zh_CN/help/task-ejbmdbpoolsettings.html">配置 MDB 池设置</a></p>

</li>
<li><p><a href="../../../ejb/zh_CN/help/task-ejbtimerservice.html">配置 EJB 计时器服务</a></p>

</li>
<li><p><a href="../../../ejb/zh_CN/help/task-ejbcontaineravailability.html">为 EJB 容器配置可用性设置</a></p>

</li></ul>


<small>版权所有 &#169; 2010, Oracle 和/或其附属公司。 保留所有权利。 <a href="docinfo.html">法律声明</a></small>
