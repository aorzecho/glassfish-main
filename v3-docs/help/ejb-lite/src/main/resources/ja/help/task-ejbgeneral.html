<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-ejbgeneral"></a><h4>EJB を設定する</h4><a name="indexterm-1"></a><a name="indexterm-2"></a><ol>
<li><b>ナビゲーションツリーで、「設定」ノードを選択します。</b></li>
<li><b>「EJB コンテナ」ノードを選択します。</b><p>「EJB (Enterprise Java Beans)」ページが開きます。</p></li>
<li><b>「セッション格納位置」フィールドに、セッション格納位置の新しい値を入力します。</b><p>このフィールドは、非活性化されたステートフルセッション Bean と持続 SFSB チェックポイント状態が格納される、ファイルシステム上のディレクトリを指定します。デフォルト値は <tt>${com.sun.aas.instanceRoot}/session-store</tt> です。</p><p>非活性化された Bean は、状態がファイルシステム上のファイルに書き込まれているステートフルセッション Bean です。非活性化された Beans は、通常特定の時間内のアイドル状態にあり、現在クライアントによってアクセスされていません。同様に、持続的な SFSB チェックポイント状態はファイルシステム上のファイルに状態を書き込まれた個別の SFSB です。</p><p>この設定は、EJB コンテナの可用性が無効になっている場合にのみ、SFSB チェックポイント状態に適用されます。可用性を無効にする方法については、「<a href="../../../ejb/ja/help/task-ejbcontaineravailability.html">EJB コンテナの可用性を設定する</a>」を参照してください。</p></li>
<li><b>「オプション B」または「オプション C」のラジオボタンを選択して、「コミットオプション」を設定します。</b><p>「コミットオプション」では、コンテナがトランザクション間で非活性化された Bean インスタンスをキャッシュする方法を指定します。</p><ul>
<li><b>「オプション B」 (デフォルト) を選択すると、コンテナはトランザクション間で準備完了状態のインスタンスをキャッシュします。</b></li>
<li><b>「オプション C」を選択すると、コンテナはトランザクション間で準備完了状態のインスタンスをキャッシュしません。</b></li></ul></li>
<li><b>「初期および最小プールサイズ」フィールドに、プールに保持される Bean の最小数を入力します。</b><p>デフォルト値は 0 です。</p></li>
<li><b>「最大プールサイズ」フィールドに、コンテナがプールに一度に保持できる Bean の最大数を入力します。</b><p>デフォルト値は 32 です。</p></li>
<li><b>「プールサイズ変更量」フィールドに、アイドル状態の継続時間が「プールアイドルタイムアウト」フィールドに指定した時間を超えた場合に、プールから削除される Bean の数を入力します。</b><p>値は 0 以上で、「最大プールサイズ」の値未満にする必要があります。デフォルト値は 8 です。</p></li>
<li><b>「プールアイドルタイムアウト」フィールドに、プール中の Bean が、プールから削除されるまでにアイドル状態を維持できる時間を秒単位で入力します。</b><p>この時間が経過すると、Bean は破棄されます。0 を指定すると、Bean は制限なくアイドル状態を維持できます。デフォルト値は 600 です。</p></li>
<li><b>「最大キャッシュサイズ」フィールドに、キャッシュに保持される Bean の最大数を入力します。</b><p>Bean の作成と破棄のオーバーヘッドをなくすために、キャッシュする Beans の最大数を大きくします。ただし、キャッシュを大きくした場合、サーバーはより大きなメモリーとリソースを消費します。キャッシュ設定に対して動作環境が十分であることを確認してください。0 を指定すると、キャッシュの制限がなくなります。デフォルト値は 512 です。</p></li>
<li><b>「キャッシュサイズ変更量」フィールドに、キャッシュがいっぱいのときに非活性化する Bean の数を入力します。</b><p>キャッシュされた Bean の数が最大数に達すると、コンテナは複数の非活性化 Bean をバックアップストアから削除します。この値は、プールに使用可能な Bean がないときに要求が届いた場合の、作成される Bean の数も指定します。値は 1 より大きく、「最大キャッシュサイズ」の値未満にする必要があります。デフォルト値は 32
です。</p></li>
<li><b>「削除タイムアウト」フィールドに、非活性化された Bean がセッションストアから削除されるまでの時間を秒単位で入力します。</b><p>0 を指定すると、コンテナはアクティブでない Bean を自動的に削除しません。「削除タイムアウト」の値が「キャッシュアイドルタイムアウト」の値以下の場合、Bean は非活性化されずにただちに削除されます。デフォルト値は 5400 です。</p></li>
<li><b>「選択内容の削除ポリシー」ドロップダウンリストから、コンテナがステートフルセッション Bean をキャッシュから削除する際に使用するポリシーを選択します。</b><p>次のポリシーを選択できます。</p><dl><dt>最近使用されていない (NRU)</dt>
<dd><p>(デフォルト) 最近使用されていない Bean を削除します。</p>

</dd>
<dt>ファーストインファーストアウト (FIFO)</dt>
<dd><p>キャッシュでもっとも古い Bean を削除します。</p>

</dd>
<dt>最近の使用頻度がもっとも低い (LRU)</dt>
<dd><p>最近のアクセス頻度がもっとも低い Bean を削除します。</p>

</dd>
</dl>
</li>
<li><b>「キャッシュアイドルタイムアウト」フィールドに、Bean をキャッシュに保持できる最大時間を秒単位で入力します。</b><p>この時間が経過すると、コンテナは Bean を非活性化できます。0 を指定すると、Bean は非活性化の候補になりません。デフォルト値は 600 です。</p></li>
<li>(省略可能) <b>「追加プロパティー」セクションで、追加プロパティーを指定します。</b><p>GlassFish サーバー は EJB コンテナの追加プロパティーを定義しません。</p><ul>
<li><b>プロパティーを追加するには、「プロパティーを追加」ボタンをクリックします。表示される空白行で、「名前」フィールドにプロパティー名を入力し、「値」フィールドにプロパティー値を入力します。</b></li>
<li><b>プロパティーを変更するには、そのプロパティーの「値」フィールドを編集します。</b></li>
<li><b>プロパティーを削除するには、削除するプロパティーの「名前」フィールドの左側にあるチェックボックスを選択し、「プロパティを削除」ボタンをクリックします。</b></li></ul></li>
<li><b>「保存」をクリックします。</b>
<hr><p><b>ヒント - </b>デフォルト設定に戻すには、「デフォルトを読込み」ボタンをクリックし、「保存」を保存します。</p>


<hr>
</li>
<li><b>GlassFish サーバー を再起動します。</b></li></ol><h6>参照</h6>
<ul><li><p><a href="../../../ejb/ja/help/task-ejbmdbpoolsettings.html">MDB プールを設定する</a></p>

</li>
<li><p><a href="../../../ejb/ja/help/task-ejbtimerservice.html">EJB タイマーサービスを設定する</a></p>

</li>
<li><p><a href="../../../ejb/ja/help/task-ejbcontaineravailability.html">EJB コンテナの可用性を設定する</a></p>

</li></ul>


<small>Copyright &#169; 2010, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">著作権について</a></small>
