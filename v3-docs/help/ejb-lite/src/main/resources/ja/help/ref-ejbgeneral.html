<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2011 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->
<a name="ref-ejbgeneral"></a><h4>EJB (Enterprise Java Beans)</h4>
<a name="indexterm-3"></a><a name="indexterm-4"></a><p>EJB コンテナを設定するには、「EJB (Enterprise Java Beans)」ページを使用します。</p>

<p>エンタープライズ Bean の一般設定のほかに、プール設定とキャッシュ設定を変更できます。</p>


<ul><li><p>プール設定は、ステートレスセッション Bean にのみ適用されます。デフォルトでは、クライアント要求に応答する際に Bean の作成によってパフォーマンスが低下しないように、コンテナはエンタープライズ Bean のプールを保持します。 </p>

<p>配備済みのエンタープライズ Bean を使用するアプリケーションでパフォーマンスに問題がある場合は、プールを作成するか、既存のプールに保持される Bean の数を増やすことで、アプリケーションのパフォーマンスを向上できます。</p>

</li>
<li><p>キャッシュ設定は、ステートフルセッション Bean にのみ適用されます。コンテナは、もっとも使用されるエンタープライズ Bean に対して、エンタープライズ Bean データのキャッシュを保持します。これにより、エンタープライズ Bean のデータに対するほかのアプリケーションモジュールからの要求に、コンテナはより高速に応答することができます。</p>

<p>キャッシュされたエンタープライズ Bean は、アクティブ、アイドル、および非活性化のいずれかの状態になります。アクティブなエンタープライズ Bean は、現在クライアントからアクセスされています。アイドルなエンタープライズ Bean のデータは現在キャッシュにありますが、クライアントは Bean にアクセスしていません。非活性化された Bean のデータは一時的に保管され、クライアントが Bean を要求したときにキャッシュに読み直されます。</p>

</li></ul>
<p>「EJB (Enterprise Java Beans)」ページには、次のオプションが含まれます。</p>

<dl><dt>デフォルトを読込み</dt>
<dd><p>デフォルト値を持つ設定をデフォルト値に戻すボタン。デフォルト値を持たない設定は変更されません。</p>

</dd>
<dt>設定名</dt>
<dd><p>このページの設定を適用する設定の名前。 このフィールドは読み取り専用です。</p>

</dd>
<dt>セッション格納位置</dt>
<dd><p>非活性化されたステートフルセッション Bean と持続 HTTP セッションが格納される、ファイルシステム上のディレクトリ。デフォルト値は <tt>${com.sun.aas.instanceRoot}/session-store</tt> です。</p>

<p>非活性化された Bean は、状態がファイルシステム上のファイルに書き込まれているステートフルセッション Bean です。非活性化された Beans は、通常特定の時間内のアイドル状態にあり、現在クライアントによってアクセスされていません。同様に、持続的な HTTP セッションはファイルシステム上のファイルに状態を書き込まれた個別の Web セッションです。</p>

</dd>
<dt>コミットオプション</dt>
<dd><p>コンテナがトランザクション間で非活性化された Bean インスタンスをキャッシュする方法を指定します。「オプション B」 (デフォルト) を選択すると、コンテナはトランザクション間で準備完了状態のインスタンスをキャッシュします。「オプション C」を選択すると、コンテナはトランザクション間で準備完了状態のインスタンスをキャッシュしません。</p>

</dd>
<dt>初期および最小プールサイズ</dt>
<dd><p>プールに保持される Bean の最小数。デフォルト値は 0 です。</p>

</dd>
<dt>最大プールサイズ</dt>
<dd><p>コンテナがプールに一度に保持できる Bean の最大数。デフォルト値は 32 です。</p>

</dd>
<dt>プールサイズ変更量</dt>
<dd><p>アイドル状態の継続時間が「プールアイドルタイムアウト」フィールドに指定した時間を超えた場合に、プールから削除される Bean の数。値は 0 以上で、「最大プールサイズ」の値未満にする必要があります。デフォルト値は 8 です。</p>

</dd>
<dt>プールアイドルタイムアウト</dt>
<dd><p>プール中の Bean が、プールから削除されるまでにアイドル状態を維持できる時間 (秒単位)。この時間が経過すると、Bean は破棄されます。0 を指定すると、Bean は制限なくアイドル状態を維持できます。デフォルト値は 600 です。</p>

</dd>
<dt>最大キャッシュサイズ</dt>
<dd><p>キャッシュに保持される Bean の最大数。Bean の作成と破棄のオーバーヘッドをなくすために、キャッシュする Beans の最大数を大きくします。ただし、キャッシュを大きくした場合、サーバーはより大きなメモリーとリソースを消費します。キャッシュ設定に対して動作環境が十分であることを確認してください。0 を指定すると、キャッシュの制限がなくなります。デフォルト値は 512 です。</p>

</dd>
<dt>キャッシュサイズ変更量</dt>
<dd><p>キャッシュがいっぱいのときに非活性化される Bean の数。キャッシュされた Bean の数が最大数に達すると、コンテナは複数の非活性化 Bean をバックアップストアから削除します。この値は、プールに使用可能な Bean がないときに要求が届いた場合の、作成される Bean の数も指定します。値は 1 より大きく、「最大キャッシュサイズ」の値未満にする必要があります。デフォルト値は 32 です。</p>

</dd>
<dt>削除タイムアウト</dt>
<dd><p>非活性化された Bean がセッションストアから削除されるまでの時間 (秒単位)。0 を指定すると、コンテナはアクティブでない Bean を自動的に削除しません。「削除タイムアウト」の値が「キャッシュアイドルタイムアウト」の値以下の場合、Bean は非活性化されずにただちに削除されます。デフォルト値は 5400 です。</p>

</dd>
<dt>選択内容の削除ポリシー</dt>
<dd><p>ステートフルセッション Bean をキャッシュから削除するときに、コンテナが使用するポリシー。次のポリシーを選択できます。</p>

<dl><dt>最近使用されていない (NRU)</dt>
<dd><p>最近使用されていない Bean を削除します。この値はデフォルトです。</p>

</dd>
<dt>ファーストインファーストアウト (FIFO)</dt>
<dd><p>キャッシュでもっとも古い Bean を削除します。</p>

</dd>
<dt>最近の使用頻度がもっとも低い (LRU)</dt>
<dd><p>最近のアクセス頻度がもっとも低い Bean を削除します。</p>

</dd>
</dl>
</dd>
<dt>キャッシュアイドルタイムアウト</dt>
<dd><p>キャッシュ中の Bean がアイドル状態を維持できる最大時間 (秒単位)この時間が経過すると、コンテナは Bean を非活性化できます。0 を指定すると、Bean は非活性化の候補になりません。デフォルト値は 600 です。</p>

</dd>
<dt>追加プロパティー</dt>
<dd><p>EJB コンテナの追加プロパティー。GlassFish Server は EJB コンテナの追加プロパティーを定義しません。</p>

</dd>
</dl>
<h5>関連操作</h5>

<ul><li><p><a href="task-ejbgeneral.html">「EJB を設定する」</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2958&id=task-ejbmdbpoolsettings">MDB プールを設定する</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2958&id=task-ejbtimerservice">EJB タイマーサービスを設定する</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2958&id=task-ejbcontaineravailability">EJB コンテナの可用性を設定する</a></p>

</li></ul>
<h5>関連する <tt>asadmin</tt> コマンド</h5>
<p>なし</p>



<small>Copyright &#169; 2005, 2011, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">著作権について</a></small>
