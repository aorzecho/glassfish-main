<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2011 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->
<a name="ref-virtualserverprops"></a><h4>特定于虚拟服务器的属性</h4>
<a name="indexterm-61"></a><a name="indexterm-62"></a><p>以下附加属性可用于虚拟服务器。</p>

<dl><dt><tt>sso-max-inactive-seconds</tt></dt>
<dd><p>指定如果未接收到任何客户机活动，在可以清除用户的单点登录记录之前等待的时间（以秒为单位）。由于单点登录应用到同一台虚拟服务器上的多个应用程序，因此对其中任何一个应用程序的访问都可以使单点登录记录保持活动状态。</p>

<p>默认值是 300 秒（5 分钟）。较高的值为用户提供了较长的单点登录持久性，但会占用服务器的更多内存。</p>

</dd>
<dt><tt>sso-reap-interval-seconds</tt></dt>
<dd><p>指定清除到期的单点登录记录的时间间隔（以秒为单位）。</p>

<p>默认值为 60。</p>

</dd>
<dt><tt>ssoCookieSecure</tt></dt>
<dd><p>设置与部署到此虚拟服务器的 Web 应用程序关联的任何 <tt>JSESSIONIDSSO</tt> cookie 的 <tt>Secure</tt> 属性。只有在启用单点登录时，此属性才适用。允许的值包括：</p>

<dl><dt><tt>true</tt></dt>
<dd><p>将 <tt>Secure</tt> 设置为 true。 </p>

</dd>
<dt><tt>false</tt></dt>
<dd><p>将 <tt>Secure</tt> 设置为 false。</p>

</dd>
<dt><tt>dynamic</tt></dt>
<dd><p><tt>JSESSIONIDSSO</tt> cookie 继承参与 SSO 的第一个会话的 <tt>Secure</tt> 设置。</p>

</dd>
</dl>
<p>要设置 <tt>JSESSIONID</tt> cookie 的 Secure 属性，请使用 <tt>sun-web.xml</tt> 文件中的 <tt>cookieSecure</tt> <tt>cookie-properties</tt> 属性。有关详细信息，请参见<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beash"><i>《Oracle GlassFish Server 3.1 Application Deployment Guide 》</i>中的"cookie-properties"</a>。</p>

</dd>
<dt><tt>setCacheControl</tt></dt>
<dd><p>指定 <tt>Cache-Control</tt> 响应指令的逗号分隔列表。有关有效的指令列表，请参见 <a href="http://www.ietf.org/rfc/rfc2616.txt">http://www.ietf.org/rfc/rfc2616.txt</a> 文档的 14.9 节。</p>

</dd>
<dt><tt>accessLogBufferSize</tt></dt>
<dd><p>指定存储访问日志调用的缓冲区的大小（以字节为单位）。如果该值小于 5120，则系统会发出警告消息，并将该值设置为 5120。默认值为 32768。</p>

</dd>
<dt><tt>accessLogWriterInterval</tt></dt>
<dd><p>指定在将日志写入磁盘之前经过的秒数。缓冲区已满或超过时间间隔时写入访问日志。如果该值为 0，则系统始终会将数据写入缓冲区，即使缓冲区未满也是如此。这意味着每次访问服务器时都将日志消息直接存储到该文件中。默认值为 300。</p>

</dd>
<dt><tt>allowRemoteAddress</tt></dt>
<dd><p>指定用于比较远程客户机 IP 地址的正则表达式模式的逗号分隔列表。如果指定了此属性，则远程地址<b>必须</b>匹配，此请求才会被接受。如果未指定此属性，则会接受所有请求，<b>除非</b>远程地址与 <tt>denyRemoteAddress</tt> 模式匹配。</p>

</dd>
<dt><tt>denyRemoteAddress</tt></dt>
<dd><p>指定用于比较远程客户机 IP 地址的正则表达式模式的逗号分隔列表。如果指定了此属性，则远程地址必须<b>不</b>匹配，此请求才会被接受。如果未指定此属性，将仅由 <tt>allowRemoteAddress</tt> 属性来控制是否接受请求。</p>

</dd>
<dt><tt>allowRemoteHost</tt></dt>
<dd><p>指定用于比较远程客户机主机名（由 <tt>[java.net.]Socket.getInetAddress().getHostName() </tt>返回）的正则表达式模式的逗号分隔列表。如果指定了此属性，则远程主机名<b>必须</b>匹配，此请求才会被接受。如果未指定此属性，则会接受所有请求，<b>除非</b>远程主机名与 <tt>denyRemoteHost</tt> 模式匹配。</p>

</dd>
<dt><tt>denyRemoteHost</tt></dt>
<dd><p>指定用于比较远程客户机主机名（由 <tt>[java.net.]Socket.getInetAddress().getHostName() </tt>返回）的正则表达式模式的逗号分隔列表。如果指定了此属性，则远程主机名必须<b>不</b>匹配，此请求才会被接受。如果未指定此属性，将仅由 <tt>allowRemoteHost</tt> 属性来控制是否接受请求。</p>

<p>如果通过启用了&#8220;JK 侦听器&#8221;选项的网络侦听器访问 GlassFish Server 域，则设置此属性将不起作用。</p>

</dd>
<dt><tt>authRealm</tt></dt>
<dd><p>指定验证领域的名称，该领域将覆盖已部署至此虚拟服务器的独立 Web 应用程序的服务器实例默认领域。在独立 Web 应用程序的 <tt>web.xml</tt> 文件中定义的领域会覆盖虚拟服务器的领域。有关更多信息，请参见<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-3034&id=ref-realms">领域</a>。</p>

</dd>
<dt><tt>securePagesWithPragma</tt></dt>
<dd><p>将此属性设置为 <tt>false</tt>，可以确保此虚拟服务器上的所有 Web 应用程序可在 Internet Explorer 中使用 SSL 正常进行文件下载操作。 </p>

<p>通过使用 <tt>sun-web.xml</tt> 文件中的 <tt>sun-web-app</tt> 元素，各个 Web 应用程序均可以覆盖该设置。有关详细信息，请参见<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beayb"><i>《Oracle GlassFish Server 3.1 Application Deployment Guide》</i>中的"glassfish-web-app"</a>。</p>

<p>默认值为 <tt>true</tt>。</p>

</dd>
<dt><tt>alternatedocroot_<i>n</i></tt></dt>
<dd><p>指定备用文档根目录 (docroot)，其中 <i>n</i> 为允许指定多个根目录的正整数。通过备用文档根目录，Web 应用程序可根据请求是否与一个（或多个）Web 应用程序备用文档根目录的 URI 模式相匹配，来为自身文档根目录之外的某些资源的请求提供服务。</p>

<p>如果请求与一个备用文档根目录的 URI 模式匹配，则系统会通过将请求 URI（去掉 Web 应用程序的上下文根目录）附加到备用文档根目录的物理位置（目录）来将请求映射到备用文档根目录。如果请求与多个 URI 模式匹配，则按照以下优先顺序来确定备用文档根目录：</p>


<ul><li><p>完全匹配</p>

</li>
<li><p>最长路径匹配</p>

</li>
<li><p>扩展名匹配</p>

</li></ul>
<p>例如，以下属性指定了三个备用文档根目录。第一个备用文档根目录的 URI 模式使用完全匹配，而第二和第三个备用文档根目录的 URI 模式则分别使用扩展名匹配和最长路径前缀匹配。</p>

<pre>&#60;property name="alternatedocroot_1" 
   value="from=/my.jpg dir=/srv/images/jpg"/>
&#60;property name="alternatedocroot_2" 
   value="from=*.jpg dir=/srv/images/jpg"/>
&#60;property name="alternatedocroot_3" 
   value="from=/jpg/* dir=/src/images"/></pre><p>每个备用文档根目录的 <tt>value</tt> 均有两个组件：第一个组件 <tt>from</tt> 指定备用文档根目录的 URI 模式，而第二个组件 <tt>dir</tt> 则指定备用文档根目录的物理位置（目录）。<tt>dir</tt> 组件中允许使用空格。</p>

<p>通过使用 <tt>sun-web.xml</tt> 文件中的 <tt>sun-web-app</tt> 元素，各个 Web 应用程序均可以覆盖该设置。有关详细信息，请参见<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beayb"><i>《Oracle GlassFish Server 3.1 Application Deployment Guide》</i>中的"glassfish-web-app"</a>。</p>

</dd>
<dt><tt>contextXmlDefault</tt></dt>
<dd><p>指定此虚拟服务器的 <tt>context.xml</tt> 文件（如果使用的话）相对于 <i>domain-dir</i> 的位置。有关 <tt>context.xml</tt> 文件的更多信息，请参见 <a href="http://tomcat.apache.org/tomcat-5.5-doc/config/context.html">The Context Container</a>。</p>

</dd>
<dt><tt>allowLinking</tt></dt>
<dd><p>如果设置为<tt>true</tt>，将为部署到该虚拟服务器上的所有 Web 应用程序提供符号链接资源。通过使用 <tt>sun-web.xml</tt> 文件中的 <tt>sun-web-app</tt> 属性 <tt>allowLinking</tt>，各个 Web 应用程序均可以覆盖该设置：</p>

<pre>&#60;sun-web-app>
   &#60;property name="allowLinking" 
      value="{true|false}"/>
&#60;/sun-web-app></pre><p>有关详细信息，请参见<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beayb"><i>《Oracle GlassFish Server 3.1 Application Deployment Guide》</i>中的"glassfish-web-app"</a>。</p>

<p>默认值为 <tt>false</tt>。</p>


<hr><p><b>注意 - </b>在 Windows 系统上将此属性设置为 true 可以公开 JSP 源代码。 </p>


<hr>
</dd>
<dt><tt>send-error_<i>n</i></tt></dt>
<dd><p>指定虚拟服务器的自定义错误页面映射，这些映射将由虚拟服务器上部署的所有 Web 应用程序继承。Web 应用程序可在其 <tt>web.xml</tt> 部署描述符中覆盖这些自定义错误页面映射。每个 <tt>send-error_<i> n</i></tt> 属性的值均有三个组件，这些组件可按任意顺序指定：</p>


<ul><li><p>第一个组件 <tt>code</tt> 指定响应中应返回的自定义错误页面的三位数 HTTP 响应状态代码。</p>

</li>
<li><p>第二个组件 <tt>path</tt> 指定自定义错误页面的绝对或相对文件系统路径。相对文件系统路径解释为相对于 <tt></tt><i>domain-dir</i><tt>/config</tt> 目录。</p>

</li>
<li><p>第三个组件 <tt>reason</tt> 是可选的，它指定要返回的原因字符串文本（如 <tt>Unauthorized</tt> 或 <tt>Forbidden</tt>）。</p>

</li></ul>
<p>例如：</p>

<pre>&#60;property name="send-error_1"
   value="code=401 path=/myhost/401.html reason=MY-401-REASON"/></pre><p>此示例属性定义将会返回 <tt>/myhost/401.html</tt> 的内容、401 响应和以下响应行：</p>

<pre>HTTP/1.1 401 MY-401-REASON</pre></dd>
<dt><tt>redirect_<i>n</i></tt></dt>
<dd><p>指定将旧 URL 的请求处理成新 URL 的请求。这些属性将由虚拟服务器上部署的所有 Web 应用程序继承。每个 <tt>redirect_<i>n</i></tt> 属性的值均有两个组件，这些组件可按任意顺序指定：</p>


<ul><li><p>第一个组件 <tt>from</tt> 指定要匹配的请求 URI 前缀。</p>

</li>
<li><p>第二个组件 <tt>url-prefix</tt> 指定要返回给客户机的新 URL 前缀。此 URL 前缀将替换 <tt>from</tt> 前缀。</p>

</li></ul>
<p>例如：</p>

<pre>&#60;property name="redirect_1" 
  value="from=/dummy url-prefix=http://etude"/></pre></dd>
<dt><tt>valve_<i>n</i></tt></dt>
<dd><p>指定自定义阀值的全限定类名，其中 <i>n</i> 为正整数，允许指定多个全限定类名。阀值类必须实现 Tomcat 或以前 GlassFish Server 发行版的 <tt>org.apache.catalina.Valve</tt> 接口，或当前 GlassFish Server 发行版的 <tt>org.glassfish.web.valve.GlassFishValve</tt> 接口。例如：</p>

<pre>&#60;property name="valve_1"
value="org.glassfish.extension.Valve"/></pre><p>可以为特定 Web 应用程序设置此属性。有关详细信息，请参见<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beayb"><i>《Oracle GlassFish Server 3.1 Application Deployment Guide》</i>中的"glassfish-web-app"</a>。</p>

</dd>
<dt><tt>listener_<i>n</i></tt></dt>
<dd><p>指定自定义 Catalina 侦听器的全限定类名，其中 <i>n</i> 为正整数，允许指定多个全限定类名。该侦听器类必须实现 <tt>org.apache.catalina.ContainerListener</tt> 或 <tt>org.apache.catalina.LifecycleListener</tt> 接口。例如：</p>

<pre>&#60;property name="listener_1"
value="org.glassfish.extension.MyLifecycleListener"/></pre><p>可以为特定 Web 应用程序设置此属性。有关详细信息，请参见<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beayb"><i>《Oracle GlassFish Server 3.1 Application Deployment Guide》</i>中的"glassfish-web-app"</a>。</p>

</dd>
<dt><tt>errorReportValve</tt></dt>
<dd><p>指定自定义阀值的全限定类名，该阀值在此虚拟服务器上生成应用程序的默认错误页面。指定空字符串可以禁用此虚拟服务器的默认错误页面机制。</p>

</dd>
</dl>


<small>版权所有 &#169; 2005, 2011, Oracle 和/或其附属公司。 保留所有权利。 <a href="docinfo.html">法律声明</a></small>
