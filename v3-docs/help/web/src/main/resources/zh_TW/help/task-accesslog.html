<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-accesslog"></a><h4>配置 HTTP 服務</h4><a name="indexterm-16"></a><a name="indexterm-17"></a><ol>
<li><b>在瀏覽樹狀結構中，展開 [配置] 節點。</b></li>
<li><b>在 [配置] 節點下，選取 [HTTP 服務] 節點。</b><p>[HTTP 服務] 頁面會隨即開啟。</p></li>
<li><b>選取 [啟用 SSO] 核取方塊，可將此伺服器上所有針對相同範圍配置的虛擬伺服器上的所有 Web 應用程式預設為啟用單次登入。</b><p>您可以針對個別的虛擬伺服器置換此設定。此選項預設為停用。</p></li>
<li><b>選取 [啟用存取記錄] 核取方塊，針對尚未指定此特性的所有虛擬伺服器子元素，啟用存取記錄功能。 </b><p>如果取消選取 [啟用存取記錄] 核取方塊，則會針對尚未指定此特性的所有虛擬伺服器子元素，停用存取記錄功能。此選項預設為停用。</p></li>
<li><b>選取 [啟用自動重建] 核取方塊，以啟用自動重建記錄檔。</b><p>此選項預設為啟用。</p></li>
<li><b>從 [自動重建策略] 下拉式清單中，選取 [自動重建策略] 。</b><p>唯一可用的自動重建策略是 <tt>time</tt>。</p></li>
<li><b>在 [自動重建間隔] 欄位中，鍵入存取記錄的自動重建間隔分鐘數。 </b><p>僅當自動重建策略為 <tt>time</tt> 時，此欄位才有效。預設值為 1,440 分鐘 (24 小時)。</p></li>
<li><b>在 [自動重建後綴] 欄位中，鍵入要在自動重建後增加至記錄檔名稱結尾的字串值。</b><p>預設值為 <tt>yyyy-MM-dd</tt>。</p><p>請確保自動重建後綴包含足夠的值，以為每個記錄自動重建建立唯一的後綴。例如，如果存取記錄的自動重建間隔比每天一次更頻繁，請將每日時間納入自動重建後綴。</p><p>若要確保在每次經過自動重建間隔時間後，即自動重建存取記錄檔，則需要有唯一的後綴。如果新的存取記錄檔之自動重建後綴與現有存取記錄檔的自動重建後綴相同，則不會自動重建檔案。</p></li>
<li><b>在 [最大檔案計數] 欄位中，鍵入要保留的自動重建存取記錄檔最大數目。</b><p>負值代表檔案數沒有限制。預設值為 &#8211;1。</p></li>
<li><b>在 [緩衝區大小] 欄位中，鍵入存取記錄緩衝區的大小 (以位元組為單位)。</b><p>如果值小於或等於 0，將會停用存取記錄緩衝。預設值為 32768。</p></li>
<li><b>在 [寫入間隔] 欄位中，鍵入將記錄寫入磁碟前等待的秒數。</b><p>當緩衝區已滿或間隔過期時，存取記錄會被寫入。如果值小於或等於 0，則即使緩衝區未滿，也會一直執行寫入。這意味著每次存取伺服器時，會將記錄訊息直接儲存至檔案中。預設值為 300。</p></li>
<li><b>在 [格式] 欄位中，鍵入字串值以指定下列存取記錄特性：</b>
<ul><li><p>要在存取記錄中擷取的資訊</p>

</li>
<li><p>擷取資訊的順序</p>

</li></ul>
<p>預設值如下：</p><pre>%client.name% %auth-user-name% %datetime% %request% %status% %response.length%</pre><p>格式字串中包含下列可用值：</p><dl><dt><tt>%attribute.<i>name</i>%</tt></dt>
<dd><p>記錄具有指定 <i>name</i> 的請求屬性的值 (透過呼叫其 <tt>toString</tt> 方法) </p>

</dd>
<dt><tt>%auth-user-name%</tt></dt>
<dd><p>授權使用者的名稱</p>

</dd>
<dt><tt>%client.name%</tt></dt>
<dd><p>用戶端主機名稱</p>

</dd>
<dt><tt>%client.dns%</tt></dt>
<dd><p>用戶端 DNS</p>

</dd>
<dt><tt>%cookie.<i>name</i>%</tt></dt>
<dd><p>具有指定 <i>name</i> 的請求 cookie 的值</p>

</dd>
<dt><tt>%cookie.value%</tt></dt>
<dd><p>在請求中找到的第一個 cookie 的值</p>

</dd>
<dt><tt>%datetime%</tt></dt>
<dd><p>系統日期</p>

</dd>
<dt><tt>%request%</tt></dt>
<dd><p>完整的 HTTP 請求行</p>

</dd>
<dt><tt>%status%</tt></dt>
<dd><p>狀態</p>

</dd>
<dt><tt>%response.length%</tt></dt>
<dd><p>回應內容長度</p>

</dd>
<dt><tt>%header.referer%</tt></dt>
<dd><p>推薦者標頭</p>

</dd>
<dt><tt>%header.user-agent%</tt></dt>
<dd><p>使用者代理程式標頭</p>

</dd>
<dt><tt>%http-method%</tt></dt>
<dd><p>HTTP 方法</p>

</dd>
<dt><tt>%http-uri%</tt></dt>
<dd><p>HTTP URI</p>

</dd>
<dt><tt>%query-str%</tt></dt>
<dd><p>HTTP 查詢字串</p>

</dd>
<dt><tt>%http-version%</tt></dt>
<dd><p>HTTP 協定版本</p>

</dd>
<dt><tt>%header.accept%</tt></dt>
<dd><p>接受標頭</p>

</dd>
<dt><tt>%header.date%</tt></dt>
<dd><p>日期標頭</p>

</dd>
<dt><tt>%header.if-mod-since%</tt></dt>
<dd><p>修改日期標頭</p>

</dd>
<dt><tt>%header.auth%</tt></dt>
<dd><p>授權標頭</p>

</dd>
<dt><tt>%header.<i>any</i>%</tt></dt>
<dd><p>RFC 2616 中定義的任何有效 HTTP 標頭 (<tt>any</tt> 也是有效的標頭值；此處將其指定為變數)</p>

</dd>
<dt><tt>%session.<i>name</i>%</tt></dt>
<dd><p>具有名稱 <i>name</i> 的階段作業屬性的值，或是 <tt>NULL-SESSION-ATTRIBUTE-<i>name</i></tt> (如果命名的屬性不存在階段作業中)，又或是 <tt>NULL-SESSION</tt> (如果沒有階段作業存在)</p>

</dd>
<dt><tt>%time-taken%</tt></dt>
<dd><p>處理每個請求所花的時間 (以毫秒為單位)</p>

</dd>
<dt><tt>%vs.id%</tt></dt>
<dd><p>虛擬伺服器識別碼</p>

</dd>
</dl>
</li>
<li>(可選擇) <b>在 [其他特性] 區段中，指定其他特性。</b><p>如需可用特性的說明，請參閱<a href="ref-httpserviceprops.html">HTTP 服務特有的特性</a>。</p><ul>
<li><b>若要增加特性，請按一下 [增加特性] 按鈕。在出現的空白列中，於 [名稱] 欄位中鍵入特性名稱，然後在 [值] 欄位中鍵入特性值。</b></li>
<li><b>若要修改特性，請編輯特性的 [值] 欄位。</b></li>
<li><b>若要刪除特性，請選取您要刪除之特性 [名稱] 欄位左側的核取方塊，然後按一下 [刪除特性] 按鈕。</b></li></ul></li>
<li><b>按一下 [儲存]。</b>
<hr><p><b>提示 - </b>若要回到預設設定，請按一下 [載入預設值] 按鈕，然後按一下 [儲存]。</p>


<hr>
</li></ol>

<small>版權所有 &#169; 2010, Oracle 和 (或) 其關係公司。 保留一切權利。 <a href="docinfo.html">法律聲明</a></small>
