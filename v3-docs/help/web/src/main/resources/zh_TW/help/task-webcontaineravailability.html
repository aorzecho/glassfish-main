<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-webcontaineravailability"></a><h4>配置 Web 容器的可用性設定</h4><a name="indexterm-12"></a><a name="indexterm-13"></a><a name="indexterm-14"></a><a name="indexterm-15"></a><ol>
<li><b>在瀏覽樹狀結構中，展開 [配置] 節點。</b></li>
<li><b>選取您要變更的配置。</b></li>
<li><b>在配置的節點下，選取 [可用性服務] 節點。</b><p>此時將開啟 [可用性服務] 頁面。</p></li>
<li><b>在 [可用性服務] 頁面上，按一下 [Web 容器可用性] 標籤。</b><p>[Web 容器可用性] 頁面會隨即開啟。</p></li>
<li><b>在 [可用性服務] 欄位中，核取 [已啟用] 方塊以啟用 Web 容器的可用性。</b><p>若要停用可用性，請取消核取 [可用性服務] 的 [已啟用] 方塊。</p></li>
<li><b>從 [持續性類型] 下拉式清單中選取持續性機制。</b><ul>
<li><b>如果<b>未</b>核取 [啟用可用服務]，請選取下列其中一項：</b>
<ul><li><p><tt>memory</tt>，用於沒有階段作業持續性的情況</p>

</li>
<li><p><tt>file</tt>，用於根據非高可用性檔案系統的階段作業持續性</p>

</li></ul>
</li>
<li><b>若核取 [啟用可用服務]，請選取 <tt>replicated</tt>，用於根據高可用性叢集容錯移轉的階段作業持續性。</b></li></ul></li>
<li><b>從 [持續性頻率] 下拉式清單中選取儲存 HTTP 階段作業的頻率。</b>
<ul><li><p><tt>web-method</tt> &#8212; 在每個 Web 請求結束且將回應傳送回用戶端之前，儲存階段作業狀態。此模式為發生故障時完全更新階段作業狀態提供了最好的保證。此為預設值。</p>

</li>
<li><p><tt>time-based</tt> - 根據 [清除間隔] 設定中所設定的頻率，在背景儲存階段作業狀態。如需有關此設定的更多資訊，請參閱<a href="task-webcontainermanagerprops.html">配置 Web 容器的管理員特性</a>。</p>

<p>此模式對完全更新階段作業狀態提供的保證較少。但是，它可以提供很大的效能改善，因為在每個請求之後都不儲存狀態。</p>

</li></ul>
<p>只有在 [持續性類型] 為 <tt>replicated</tt> 時，[持續性頻率] 才適用。</p></li>
<li><b>從 [持續性範圍] 下拉式清單中，選取要進行儲存所需的 HTTP 階段作業變更範圍。</b>
<ul><li><p><tt>session</tt> &#8212; 每次都儲存整個階段作業狀態。此模式為正確儲存任何可分散 Web 應用程式的階段作業資料提供了最好的保證。</p>

</li>
<li><p><tt>modified-session</tt> &#8212; 如果階段作業狀態已修改，則儲存整個階段作業狀態。如果呼叫了 <tt>HttpSession.setAttribute() </tt> 或 <tt>HttpSession.removeAttribute()</tt>，則系統將認為階段作業已遭修改。必須保證每次變更屬性時都呼叫 <tt>setAttribute()</tt>。這不是 Java EE 規格的需求，但是此模式需要這樣做才能正常工作。</p>

</li>
<li><p><tt>modified-attribute</tt> &#8212; 僅儲存修改的階段作業屬性。若要使此模式正常運作，您必須遵循以下使用準則：</p>


<ul><li><p>每次修改階段作業狀態時均呼叫 <tt>setAttribute()</tt>。</p>

</li>
<li><p>確定各屬性之間沒有交叉參照。系統將對每個不同屬性關鍵字下的物件圖形單獨進行串列化並單獨儲存。如果每個單獨的關鍵字下的物件之間存在物件交叉參照，則它們將不會進行正確串列化和反串列化。</p>

</li>
<li><p>在多個屬性之間分布階段作業狀態，或者至少在唯讀屬性和可修改屬性之間分布階段作業狀態。</p>

</li></ul>
</li></ul>
<p>只有在 [持續性類型] 為 <tt>replicated</tt> 時，[持續性範圍] 才適用。</p></li>
<li><b>在 [單次登入狀態] 欄位中，核取 [已啟用] 方塊，讓單次登入狀態可用於容錯移轉。</b><p>若要讓單次登入狀態不可用於容錯移轉，請移除 [啟用單次登入狀態] 方塊中的核取記號。</p></li>
<li><b>若要復原所有設定的預設值，請按一下 [載入預設值] 按鈕。</b></li>
<li>(可選擇) <b>在 [其他特性] 區段中，指定其他特性。</b><p>GlassFish Server 未定義 Web 容器可用性的任何其他特性。</p><ul>
<li><b>若要增加特性，請按一下 [增加特性] 按鈕。在出現的空白列中，於 [名稱] 欄位中鍵入特性名稱，然後在 [值] 欄位中鍵入特性值。</b></li>
<li><b>若要修改特性，請編輯特性的 [值] 欄位。</b></li>
<li><b>若要刪除特性，請選取您要刪除之特性 [名稱] 欄位左側的核取方塊，然後按一下 [刪除特性] 按鈕。</b></li></ul></li>
<li><b>按一下 [儲存]。</b></li></ol><h6>另請參閱</h6>
<ul><li><p><a href="task-webcontainergeneral.html">配置 Web 容器的一般特性</a></p>

</li>
<li><p><a href="task-webcontainersessiontimeout.html">配置 Web 容器的階段作業特性</a></p>

</li>
<li><p><a href="task-webcontainermanagerprops.html">配置 Web 容器的管理員特性</a></p>

</li>
<li><p><a href="task-webcontainerstoreprops.html">配置 Web 容器的儲存特性</a></p>

</li></ul>


<small>版權所有 &#169; 2010, Oracle 和 (或) 其關係公司。 保留一切權利。 <a href="docinfo.html">法律聲明</a></small>
