<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-protocolnew"></a><h4>建立通訊協定</h4><a name="indexterm-24"></a><ol>
<li><b>在瀏覽樹狀結構中，展開 [配置] 節點。</b></li>
<li><b>在 [配置] 節點下，展開 [網路配置] 節點。</b></li>
<li><b>在 [網路配置] 節點下，選取 [通訊協定] 節點。</b><p>[通訊協定] 頁面會隨即開啟。</p></li>
<li><b>在 [通訊協定] 頁面上，按一下 [新建]。</b><p>[新建通訊協定] 頁面會隨即開啟。</p></li>
<li><b>在 [名稱] 欄位中，為通訊協定鍵入唯一的名稱。</b></li>
<li><b>選取 [啟用安全性] 核取方塊，以啟用通訊協定的安全性。</b><p>此選項預設為停用。如果您啟用安全性，您可以使用 [編輯通訊協定] 頁面的 [SSL] 標籤修改安全性設定。</p></li>
<li><b>選取 [啟用狀態] 核取方塊，以啟用檔案快取。</b><p>此選項預設為啟用。</p></li>
<li><b>在 [最長存在時間] 欄位中，鍵入有效快取項目的存在時間 (以秒為單位) 上限。</b><p>該參數可控制在快取檔案之後，快取的資訊的使用時間。對於超過最長存在時間的項目，將由同一檔案的新項目取代。如果內容不經常變更，請增大該值以提昇效能。</p><p>理想的最長存在時間取決於是否會定期修改現有檔案。例如，若每天依固定間隔修改檔案四次，請考慮將最長存在時間設定為 21600 秒 (6 小時)。否則，請考慮將最長存在時間設定為檔案修改後，您願意提供舊版內容檔案的最長時間。</p><p>預設值為 30。</p></li>
<li><b>在 [最大快取大小] 欄位中，鍵入磁碟上檔案快取的最大總計大小 (以位元組為單位)。</b><p>預設值為 10485760。</p></li>
<li><b>在 [最大檔案計數] 欄位中，鍵入檔案快取中可儲存的最大檔案數。</b><p>如果值過大，則伺服器會快取那些消耗記憶體且不太需要的檔案。如果值過小，則會失去快取的優點。請針對該屬性嘗試使用不同的值，以便找到用於特定應用程式的最佳解決方案。</p><p>預設值為 1024。</p></li>
<li><b>在 [伺服器名稱] 欄位中，鍵入要在伺服器傳送給用戶端的 URL 中使用的主機名稱。</b><p>如果伺服器使用別名，則該名稱應為此別名。如果伺服器未使用別名，請將此欄位保留為空白。</p><p>此值會影響伺服器自動產生的 URL；但不會影響儲存在伺服器中目錄和檔案的 URL。如果您的伺服器使用別名，伺服器名稱應為此別名。如果附加了冒號和連接埠號碼，則該連接埠會用於伺服器傳送到用戶端的 URL。</p></li>
<li><b>從 [預設虛擬伺服器] 下拉式清單中，選取要與此通訊協定關聯的虛擬伺服器。</b><p>使用 [虛擬伺服器] 頁面可定義虛擬伺服器。</p></li>
<li><b>在 [重新導向連接埠] 欄位中，鍵入要用於將請求重新導向至另一個連接埠的連接埠值。 </b><p>如果滿足以下兩個條件，GlassFish Server 將自動重新導向請求：</p>


<ul><li><p>參照此通訊協定的網路偵聽程式支援非 SSL 請求。</p>

</li>
<li><p>接收了符合安全性限制需要 SSL 傳輸的請求。</p>

</li></ul>
<p>如果未指定重新導向連接埠，則 GlassFish Server 會使用原始請求中所指定的連接埠號碼。依預設，不會指定連接埠。</p></li>
<li><b>在 [最大連線數] 欄位中，鍵入伺服器關閉連線前可以傳輸的最大請求數目。</b><p>「持續作用」子系統會定期輪詢閒置的連線。預設值為 256。</p><p>將該特性設定為 1 可停用 HTTP/1.0 持續作用、HTTP/1.1 持續作用以及管線操作。0 值表示會永遠拒絕請求。&#8211;1 值表示持續作用連線數目沒有限制。</p></li>
<li><b>在 [逾時] 欄位中，鍵入要將連線視為閒置並保持在持續作用狀態的最長時間 (以秒為單位)。</b><p>如果值小於或等於 0，則表示持續作用連線會無限期保持開啟。預設值為 30 秒。</p></li>
<li><b>選取 [啟用上傳逾時] 核取方塊，使讀取位元組較慢的 Servlet 連線在 [連線上傳逾時] 限制到達後關閉。</b><p>如果停用此選項，則 Servlet 連線不會逾時。此選項預設為停用。</p></li>
<li><b>在 [連線上傳逾時] 欄位中，鍵入上傳的逾時 (以毫秒為單位)。 </b><p>僅當選取 [啟用上傳逾時] 核取方塊時，此欄位才適用。預設值為 300000 毫秒。</p></li>
<li><b>在 [請求逾時] 欄位中，鍵入請求逾時之前需等待的秒數。</b><p>如果在到達逾時值之前沒有處理請求，則會忽略請求。預設值為 30 秒。</p></li>
<li><b>在 [傳送緩衝區大小] 欄位中，鍵入傳送緩衝區的大小 (以位元組為單位)。</b><p>預設值為 8192 位元組。</p></li>
<li><b>在 [標頭緩衝區長度] 欄位中，鍵入請求處理執行緒讀取請求資料時，所使用的緩衝區大小 (以位元組為單位)。</b><p>預設值為 8192 位元組。</p></li>
<li><b>在 [最大 Post 大小] 欄位中，鍵入 POST 動作的最大大小 (以位元組為單位)。</b><p>預設值為 2097152 位元組。</p></li>
<li><b>在 [URI 編碼] 欄位中，鍵入用來解碼接收的請求 URI 的字元集名稱。</b><p>值必須為有效的 IANA 字元集名稱。預設值為 UTF-8。</p></li>
<li><b>在 [版本] 欄位中，鍵入要使用的 HTTP 通訊協定版本。</b><p>預設值為 HTTP/1.1。</p></li>
<li><b>從 [壓縮] 下拉式清單選取使用 HTTP/1.1 GZIP 壓縮，以節省伺服器頻寬。</b><p>可用的選項包括：</p><dl><dt><tt>on</tt></dt>
<dd><p>壓縮資料。</p>

</dd>
<dt><tt>off</tt></dt>
<dd><p>停用壓縮。</p>

</dd>
<dt><tt>force</tt></dt>
<dd><p>強制一律資料壓縮。</p>

</dd>
</dl>
<p>預設值為 <tt>off</tt>。</p></li>
<li><b>在 [可壓縮的 MIME 類型] 欄位中，鍵入使用 HTTP 壓縮的 MIME 類型清單 (以逗號分隔)。</b><p>預設值為 <tt>text/html,text/xml,text/plain</tt>。</p></li>
<li><b>在 [最小壓縮大小] 欄位中，鍵入套用壓縮的最小檔案大小。</b><p>如果將「壓縮」設定為 <tt>on</tt> 或 <tt>force </tt>，則必須設定此值。預設值為 2048 位元組。</p></li>
<li><b>在 [不壓縮使用者代理程式] 欄位中，鍵入符合不應使用壓縮的 HTTP 用戶端使用者代理程式之常規表示式清單 (以逗號分隔)。</b><p>依預設，此值是空字串。</p></li>
<li><b>在 [受限制的使用者代理程式] 欄位中，鍵入套用 HTTP 壓縮之受限制的使用者代理程式清單。</b><p>如果沒有指定使用者代理程式，則會將 HTTP 壓縮套用到所有使用者代理程式。依預設，不會指定使用者代理程式。</p></li>
<li><b>在 [預設回應類型] 欄位中，鍵入指定預設回應類型的字串。</b><p>該格式是以分號分隔的字串，由內容類型、編碼、語言和字元集組成。預設值為 <tt>text/html; charset=iso-8859-1</tt>。</p></li>
<li><b>在 [已強制回應類型] 欄位中，鍵入指定在沒有符合檔案副檔名的 MIME 對應可用時所使用之請求類型的字串。</b><p>該格式是以分號分隔的字串，由內容類型、編碼、語言和字元集組成。預設值為 <tt>text/html; charset=iso-8859-1</tt>。</p></li>
<li><b>在 [配接卡] 欄位中，鍵入靜態資源配接卡的類別名稱。</b><p>預設值為 <tt>com.sun.grizzly.tcp.StaticResourcesAdapter</tt>。</p></li>
<li><b>選取 [啟用 Comet 支援] 核取方塊，可針對參照此通訊協定的網路偵聽程式啟用 Comet 支援。</b><p>依預設，會停用此選項。如果您的 Servlet 或 JSP 頁面使用 Comet 技術，請將 <tt>load-on-startup</tt> 元素增加到您的 <tt>web.xml</tt> 檔案中，以確保該技術於 GlassFish
Server 啟動時已初始化。例如︰</p><pre>&#60;servlet>
&#60;servlet-name>CheckIn&#60;/servlet-name>
&#60;servlet-class>CheckInServlet&#60;/servlet-class>
&#60;load-on-startup>0&#60;/load-on-startup>
&#60;/servlet></pre></li>
<li><b>選取 [啟用 DNS 查詢] 核取方塊可啟用 DNS 查詢。</b><p>此選項預設為停用。</p></li>
<li><b>選取 [啟用 RCM 支援] 核取方塊可啟用資源配置管理 (RCM)。</b><p>此選項預設為停用。</p></li>
<li><b>選取 [啟用追蹤] 核取方塊可啟用追蹤作業。</b><p>若停用此選項，GlassFish Server 會較不易受到跨網站指令碼攻擊的影響。此選項預設為啟用。</p></li>
<li><b>選取 [啟用認證傳送] 核取方塊，表示使用此通訊協定的網路偵聽程式會從終止 SSL 的代理伺服器接收流量。</b><p>此選項預設為停用。</p></li>
<li><b>選取 [啟用分塊] 核取方塊可啟用 HTTP 回應分塊。</b><p>此選項預設為啟用。</p></li>
<li><b>選取 [啟用 XPowered By] 核取方塊會使 GlassFish Server 根據 Java Servlet 3.0 和
Java Server Pages 2.0 規格使用 <tt>X-Powered-By</tt> 標頭。</b><p>此選項預設為啟用。</p></li></ol><h6>接下來的步驟</h6><p>在您建立通訊協定之後，可以建立使用通訊協定的網路偵聽程式。</p>

<h6>另請參閱</h6>
<ul><li><p><a href="task-networklistenernew.html">建立網路偵聽程式</a></p>

</li>
<li><p><a href="task-networklisteneredit.html">編輯網路偵聽程式</a></p>

</li>
<li><p><a href="task-networklistenerdelete.html">刪除網路偵聽程式</a></p>

</li>
<li><p><a href="task-protocoledit.html">編輯通訊協定</a></p>

</li>
<li><p><a href="task-protocolssledit.html">編輯通訊協定的 SSL 設定</a></p>

</li>
<li><p><a href="task-protocolhttpedit.html">編輯通訊協定的 HTTP 設定</a></p>

</li>
<li><p><a href="task-protocolfilecacheedit.html">編輯通訊協定的檔案快取設定</a></p>

</li>
<li><p><a href="task-protocoldelete.html">刪除通訊協定</a></p>

</li>
<li><p><a href="task-transportnew.html">建立傳輸</a></p>

</li>
<li><p><a href="task-transportedit.html">編輯傳輸</a></p>

</li>
<li><p><a href="task-transportdelete.html">刪除傳輸</a></p>

</li></ul>


<small>版權所有 &#169; 2010, Oracle 和 (或) 其關係公司。 保留一切權利。 <a href="docinfo.html">法律聲明</a></small>
