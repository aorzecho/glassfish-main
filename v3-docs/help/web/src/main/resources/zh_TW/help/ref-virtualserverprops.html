<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2011 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->
<a name="ref-virtualserverprops"></a><h4>虛擬伺服器特有的特性</h4>
<a name="indexterm-61"></a><a name="indexterm-62"></a><p>以下是適用於虛擬伺服器的其他特性。</p>

<dl><dt><tt>sso-max-inactive-seconds</tt></dt>
<dd><p>指定在未接收到任何用戶端作業的情形下，可以清除使用者單次登入記錄之前等待的秒數。由於單次登入套用於同一個虛擬伺服器上的多個應用程式，因此對其中任何一個應用程式的存取均會使單次登入記錄保持使用中狀態。</p>

<p>預設值為 300 秒 (5 分鐘)。較高的值可延長使用者的單次登入持續時間，但會佔用較多的伺服器記憶體。</p>

</dd>
<dt><tt>sso-reap-interval-seconds</tt></dt>
<dd><p>指定兩次清除過期的單次登入記錄的間隔秒數。</p>

<p>預設值為 60。</p>

</dd>
<dt><tt>ssoCookieSecure</tt></dt>
<dd><p>設定與部署到此虛擬伺服器的 Web 應用程式關聯的任何 <tt>JSESSIONIDSSO</tt> cookie 的 <tt>Secure</tt> 屬性。此屬性只有在單次登入啟用時才適用。允許的值包括：</p>

<dl><dt><tt>true</tt></dt>
<dd><p>將 <tt>Secure</tt> 設為 true。 </p>

</dd>
<dt><tt>false</tt></dt>
<dd><p>將 <tt>Secure</tt> 設為 false。</p>

</dd>
<dt><tt>dynamic</tt></dt>
<dd><p><tt>JSESSIONIDSSO</tt> cookie 會繼承第一個加入 SSO 之階段作業的 <tt>Secure</tt> 設定。</p>

</dd>
</dl>
<p>若要設定 <tt>JSESSIONID</tt> cookie 的 Secure 屬性，請使用 <tt>sun-web.xml</tt> 檔案中的 <tt>cookieSecure</tt> <tt>cookie-properties</tt> 屬性。如需詳細資訊，請參閱 <a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beash"><i>「Oracle GlassFish Server 3.1 Application Deployment Guide」</i>中的「cookie-properties」</a>。</p>

</dd>
<dt><tt>setCacheControl</tt></dt>
<dd><p>指定以逗號分隔 <tt>Cache-Control</tt> 回應指令的清單。如需有效指令的清單，請參閱以下文件的第 14.9 節：<a href="http://www.ietf.org/rfc/rfc2616.txt">http://www.ietf.org/rfc/rfc2616.txt</a>。</p>

</dd>
<dt><tt>accessLogBufferSize</tt></dt>
<dd><p>指定儲存存取記錄呼叫的緩衝區大小 (以位元組為單位)。若此值小於 5120，會發出警告訊息，並將值設為 5120。預設值為 32768。</p>

</dd>
<dt><tt>accessLogWriterInterval</tt></dt>
<dd><p>指定將記錄寫入磁碟之前經過的秒數。當緩衝區已滿或間隔過期時，存取記錄會被寫入。若此值為 0，則即使緩衝區未滿，也會一直執行寫入。這意味著每次存取伺服器時，會將記錄訊息直接儲存至檔案中。預設值為 300。</p>

</dd>
<dt><tt>allowRemoteAddress</tt></dt>
<dd><p>指定以逗號分隔常規表示式樣式的清單，遠端用戶端的 IP 位址會以這些樣式為比對依據。如果指定此特性，則遠端位址<b>必須</b>符合，才能使這個請求被接受。如果未指定此特性，則所有請求都會被接受，<b>除非</b>遠端位址符合 <tt>denyRemoteAddress</tt> 樣式。</p>

</dd>
<dt><tt>denyRemoteAddress</tt></dt>
<dd><p>指定以逗號分隔常規表示式樣式的清單，遠端用戶端的 IP 位址會以這些樣式為比對依據。如果指定此特性，則遠端位址必須<b>不</b>符合，才能使這個請求被接受。如果未指定此特性，則是否接受請求完全由 <tt>allowRemoteAddress</tt> 特性控制。</p>

</dd>
<dt><tt>allowRemoteHost</tt></dt>
<dd><p>指定以逗號分隔常規表示式樣式的清單，而遠端用戶端的主機名稱 (由 <tt>[java.net.]Socket.getInetAddress().getHostName()</tt> 所傳回) 會以這些樣式為比對依據。如果指定此特性，則遠端主機名稱<b>必須</b>符合，才能使這個請求被接受。如果未指定此特性，則所有請求都會被接受，<b>除非</b>遠端主機名稱符合 <tt>denyRemoteHost</tt> 樣式。</p>

</dd>
<dt><tt>denyRemoteHost</tt></dt>
<dd><p>指定以逗號分隔常規表示式樣式的清單，而遠端用戶端的主機名稱 (由 <tt>[java.net.]Socket.getInetAddress().getHostName()</tt> 所傳回) 會以這些樣式為比對依據。如果指定此特性，則遠端主機名稱必須<b>不</b>符合，才能使這個請求被接受。如果未指定此特性，則是否接受請求完全由 <tt>allowRemoteHost</tt> 特性控制。</p>

<p>如果是透過已啟用 [JK 偵聽程式] 選項的網路偵聽程式存取 GlassFish Server 網域，則設定此特性不會有影響。</p>

</dd>
<dt><tt>authRealm</tt></dt>
<dd><p>指定認證範圍的名稱，此範圍會為部署至此虛擬伺服器的獨立 Web 應用程式，置換伺服器實例的預設範圍。獨立 Web 應用程式的 <tt>web.xml</tt> 檔案中定義的範圍，會置換虛擬伺服器的範圍。如需更多資訊，請參閱<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-3035&id=ref-realms">範圍</a>。</p>

</dd>
<dt><tt>securePagesWithPragma</tt></dt>
<dd><p>將此特性設定為 <tt>false</tt>，可確保對於此虛擬伺服器上的所有 Web 應用程式而言，使用 SSL 的檔案下載在 Internet Explorer 中可正確執行。 </p>

<p>使用 <tt>sun-web.xml</tt> 檔案的 <tt>sun-web-app</tt> 元素，可讓個別 Web 應用程式置換此設定。如需詳細資訊，請參閱 <a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beayb"><i>「Oracle GlassFish Server 3.1 Application Deployment Guide」</i>中的「glassfish-web-app」</a>。</p>

<p>預設值為 <tt>true</tt>。</p>

</dd>
<dt><tt>alternatedocroot_<i>n</i></tt></dt>
<dd><p>指定替代文件根 (文件根)，其中 <i>n</i> 是一個正整數，允許指定為一個以上。替代文件根可讓 Web 應用程式根據請求是否符合 Web 應用程式替代文件根的一個 (或多個) URI 樣式，處理自身文件根以外的特定資源請求。</p>

<p>如果請求符合一個替代文件根的 URI 樣式，便會將請求 URI (減去 Web 應用程式的環境根目錄) 附加至替代文件根的實體位置 (目錄)，藉此方式將請求對映至替代文件根。如果請求符合多個 URI 樣式，則會根據下列優先順序來決定替代文件根：</p>


<ul><li><p>完全符合</p>

</li>
<li><p>最長路徑符合</p>

</li>
<li><p>副檔名符合</p>

</li></ul>
<p>例如，以下特性會指定三個替代文件根。第一個替代文件根的 URI 樣式使用了完全符合，而第二個和第三個替代文件根的 URI 樣式則分別使用副檔名和最長路徑前綴符合。</p>

<pre>&#60;property name="alternatedocroot_1" 
   value="from=/my.jpg dir=/srv/images/jpg"/>
&#60;property name="alternatedocroot_2" 
   value="from=*.jpg dir=/srv/images/jpg"/>
&#60;property name="alternatedocroot_3" 
   value="from=/jpg/* dir=/src/images"/></pre><p>每個替代文件根的 <tt>value</tt> 都有兩個部分：第一個部分 <tt>from</tt> 指定替代文件根的 URI 樣式，第二個部分 <tt>dir</tt> 指定替代文件根的實體位置 (目錄)。<tt>dir</tt> 部分允許使用空格。</p>

<p>使用 <tt>sun-web.xml</tt> 檔案的 <tt>sun-web-app</tt> 元素，可讓個別 Web 應用程式置換此設定。如需詳細資訊，請參閱 <a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beayb"><i>「Oracle GlassFish Server 3.1 Application Deployment Guide」</i>中的「glassfish-web-app」</a>。</p>

</dd>
<dt><tt>contextXmlDefault</tt></dt>
<dd><p>指定此虛擬伺服器之 <tt>context.xml</tt> 檔案 (如果使用) 相對於 <i>domain-dir</i> 的位置。如需有關 <tt>context.xml</tt> 檔案的更多資訊，請參閱<a href="http://tomcat.apache.org/tomcat-5.5-doc/config/context.html">環境容器</a>。</p>

</dd>
<dt><tt>allowLinking</tt></dt>
<dd><p>如果為 <tt>true</tt>，則會為部署到該虛擬伺服器上的所有 Web 應用程式提供符號連結資源。使用 <tt>sun-web.xml</tt> 檔案中的 <tt>sun-web-app</tt> 特性 <tt>allowLinking</tt>，即可讓個別 Web 應用程式置換該設定：</p>

<pre>&#60;sun-web-app>
   &#60;property name="allowLinking" 
      value="{true|false}"/>
&#60;/sun-web-app></pre><p>如需詳細資訊，請參閱 <a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beayb"><i>「Oracle GlassFish Server 3.1 Application Deployment Guide」</i>中的「glassfish-web-app」</a>。</p>

<p>預設值為 <tt>false</tt>。</p>


<hr><p><b>注意 - </b>在 Windows 系統上將此特性設為 true 會顯示 JSP 原始碼。 </p>


<hr>
</dd>
<dt><tt>send-error_<i>n</i></tt></dt>
<dd><p>指定虛擬伺服器的自訂錯誤頁面對映，已在虛擬伺服器上部署的所有 Web 應用程式會繼承這些對映。Web 應用程式可在其 <tt>web.xml</tt> 部署描述元中置換這些自訂錯誤頁面對映。每個 <tt>send-error_<i> n</i></tt> 特性的值都有三個可依任何順序指定的部分：</p>


<ul><li><p>第一個部分 <tt>code</tt> 指定自訂錯誤頁面應該在回應中傳回的三位數 HTTP 回應狀態代碼。</p>

</li>
<li><p>第二個部分 <tt>path</tt> 指定自訂錯誤頁面的絕對或相對檔案系統路徑。相對檔案系統路徑會解譯成相對於 <tt></tt><i>domain-dir</i><tt>/config</tt> 目錄。</p>

</li>
<li><p>第三個部分 <tt>reason</tt> 是選擇性項目，用於指定將傳回之原因字串文字 (例如 <tt>Unauthorized</tt> 或 <tt> Forbidden</tt>)。</p>

</li></ul>
<p>例如︰</p>

<pre>&#60;property name="send-error_1"
   value="code=401 path=/myhost/401.html reason=MY-401-REASON"/></pre><p>此範例特性定義會使 <tt>/myhost/401.html</tt> 的內容連同 401 回應一起傳回，另外還有以下回應行：</p>

<pre>HTTP/1.1 401 MY-401-REASON</pre></dd>
<dt><tt>redirect_<i>n</i></tt></dt>
<dd><p>指定將舊 URL 的請求視為新 URL 的請求。已在虛擬伺服器上部署的所有 Web 應用程式都會繼承這些特性。每個 <tt>redirect_<i>n</i></tt> 特性的值都有兩個可依任何順序指定的部分：</p>


<ul><li><p>第一個部分 <tt>from</tt> 指定要符合之請求的 URI 前綴。</p>

</li>
<li><p>第二個部分 <tt>url-prefix</tt> 指定要傳回給用戶端的新 URL 前綴。此 URL 前綴會直接取代 <tt>from</tt> 前綴。</p>

</li></ul>
<p>例如︰</p>

<pre>&#60;property name="redirect_1" 
  value="from=/dummy url-prefix=http://etude"/></pre></dd>
<dt><tt>valve_<i>n</i></tt></dt>
<dd><p>指定完全合格的自訂閾值類別名稱，其中 <i>n</i> 為正整數，表示允許多個規格。valve 類別必須從 Tomcat 或先前的 GlassFish Server 發行版本實作 <tt>org.apache.catalina.Valve</tt> 介面，或從目前的 GlassFish Server 發行版本實作 <tt>org.glassfish.web.valve.GlassFishValve</tt> 介面。例如︰</p>

<pre>&#60;property name="valve_1"
value="org.glassfish.extension.Valve"/></pre><p>您可以為特定的 Web 應用程式設定此特性。如需詳細資訊，請參閱 <a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beayb"><i>「Oracle GlassFish Server 3.1 Application Deployment Guide」</i>中的「glassfish-web-app」</a>。</p>

</dd>
<dt><tt>listener_<i>n</i></tt></dt>
<dd><p>指定完全合格的自訂 Catalina 偵聽程式類別名稱，其中 <i>n</i> 為指定一個以上規格的正整數。listener 類別必須實作 <tt>org.apache.catalina.ContainerListener</tt> 或 <tt>org.apache.catalina.LifecycleListener</tt> 介面。例如︰</p>

<pre>&#60;property name="listener_1"
value="org.glassfish.extension.MyLifecycleListener"/></pre><p>您可以為特定的 Web 應用程式設定此特性。如需詳細資訊，請參閱 <a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2417&id=beayb"><i>「Oracle GlassFish Server 3.1 Application Deployment Guide」</i>中的「glassfish-web-app」</a>。</p>

</dd>
<dt><tt>errorReportValve</tt></dt>
<dd><p>指定自訂值的完全合格類別名稱，該值用來為此虛擬伺服器上的應用程式產生錯誤頁。 指定空白字串以停用此虛擬伺服器的錯誤頁機制。</p>

</dd>
</dl>


<small>版權所有 &#169; 2005, 2011, Oracle 和 (或) 其關係公司。 保留一切權利。 <a href="docinfo.html">法律聲明</a></small>
