<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2011 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->
<a name="ref-protocolnew"></a><h4>新しいプロトコル</h4>
<a name="indexterm-68"></a><p>新しいネットワークプロトコルを作成するには、「新しいプロトコル」ページを使用します。</p>

<p>プロトコルを作成したあと、通常はネットワークリスナーを同じ名前で作成し、ネットワークリスナーをプロトコルに関連付けます。または、ネットワークリスナーを作成するときに、デフォルト設定のプロトコルを同時に作成することもできます。</p>

<p>「新しいプロトコル」ページには、次のオプションが含まれます。</p>

<dl><dt>設定名</dt>
<dd><p>このページの設定を適用する設定の名前。 このフィールドは読み取り専用です。</p>

</dd>
<dt>名前</dt>
<dd><p>プロトコルの一意の名前。プロトコル名の先頭に数字を使用することはできません。</p>

</dd>
<dt>Security</dt>
<dd><p>このオプションが選択されている場合、プロトコルに対してセキュリティーは有効です。このオプションは、デフォルトでは無効になっています。セキュリティーを有効にすると、「プロトコルを編集」ページの「SSL」タブを使用してセキュリティー設定を変更できます。</p>

</dd>
<dt>ステータス</dt>
<dd><p>このオプションを選択すると、ファイルキャッシュが有効になります。このオプションはデフォルトで有効になっています。</p>

</dd>
<dt>最大有効期間</dt>
<dd><p>秒単位の有効なキャッシュエントリの最長有効期間。</p>

<p>このパラメータは、ファイルをキャッシュに書き込んだあとに、キャッシュに書き込んだ情報を使用する期間を制御します。最長有効期間より古いエントリは、同じファイルの新しいエントリに置き換えられます。内容の変更が頻繁でない場合は、この値を大きくするとパフォーマンスが向上します。</p>

<p>最適な最長有効期間は、既存のファイルが定期的に変更されるかどうかに依存します。たとえば、ファイルが 1 日に 4 回一定間隔で変更される場合は、最長有効期間を 21600 秒 (6 時間) に設定できます。そうでない場合は、最長有効期間を、ファイルの変更後に内容が前のバージョンのファイルを提供する最長の時間に設定することを考慮してください。</p>

<p>デフォルト値は 30 です。</p>

</dd>
<dt>最大キャッシュサイズ</dt>
<dd><p>ディスク上のファイルキャッシュの最大合計サイズ (バイト単位)。デフォルト値は 10485760 です。</p>

</dd>
<dt>最大ファイル数</dt>
<dd><p>ファイルキャッシュに保持できるファイルの最大数。</p>

<p>この値が大きすぎると、サーバーはほとんど必要のないファイルもキャッシュに書き込むため、メモリーの浪費になります。この値が小さすぎると、キャッシュの利点が失われます。この属性については、さまざまな値を試してみて、特定のアプリケーションに最適な値を見つけてください。</p>

<p>デフォルト値は 1024 です。</p>

</dd>
<dt>サーバー名</dt>
<dd><p>サーバーがクライアントに送信する URL で使用されるホスト名。サーバーがエイリアスを使っている場合、この名前はエイリアス名です。サーバーがエイリアスを使用していない場合は、このフィールドを空のまま残します。</p>

<p>この値は、サーバーが自動的に生成する URL には影響しますが、サーバーに格納されているディレクトリやファイルの URL には影響しません。サーバーがエイリアスを使用している場合は、サーバー名をエイリアス名にしてください。コロンとポート番号を付加すると、サーバーは指定したポートを使用してクライアントに URL を送信します。</p>

</dd>
<dt>デフォルト仮想サーバー</dt>
<dd><p>プロトコルに関連付けられる仮想サーバー。仮想サーバーを定義するには、「仮想サーバー」ページを使用します。</p>

</dd>
<dt>リダイレクトポート</dt>
<dd><p>要求を別のポートにリダイレクトするポート値。GlassFish Server は、次の 2 つの条件が存在する場合、要求を自動的にリダイレクトします。</p>


<ul><li><p>このプロトコルを参照するネットワークリスナーは、非 SSL 要求をサポートしています。</p>

</li>
<li><p>着信した要求に適用されるセキュリティー制約が SSL 伝送を必要とする場合。</p>

</li></ul>
<p>リダイレクトポートが指定されていない場合、GlassFish Server は元の要求で指定されていたポート番号を使用します。デフォルトでは、ポートは指定されていません。</p>

</dd>
<dt>最大接続数</dt>
<dd><p>サーバーによって接続が閉じられるまでの、パイプラインできる要求の最大数を指定します。キープアライブサブシステムは定期的にアイドル接続をポーリングします。デフォルト値は 256 です。</p>

<p>HTTP/1.0 キープアライブ、HTTP/1.1 キープアライブ、パイプラインが無効化するには、このプロパティーの値を 1 に設定します。0 を設定すると、要求は常に拒否されます。-1 を設定すると、キープアライブ接続の数は制限されません。</p>

</dd>
<dt>タイムアウト</dt>
<dd><p>接続をアイドルと見なしてキープアライブ状態を維持できる最大時間 (秒単位)。0 以下の値を設定すると、キープアライブ接続は開いたままになります。デフォルト値は 30 秒です。</p>

</dd>
<dt>アップロードタイムアウト</dt>
<dd><p>このオプションを選択すると、低速で読み取りを行うサーブレットの接続が、「接続アップロードタイムアウト」の制限に達したあとに閉じられます。このオプションが無効の場合、サーブレットの接続はタイムアウトしません。このオプションは、デフォルトでは無効になっています。</p>

</dd>
<dt>接続アップロードタイムアウト</dt>
<dd><p>アップロードのタイムアウト (ミリ秒単位)。このフィールドは、「アップロードタイムアウト」の「有効」チェックボックスが選択されている場合にのみ適用されます。デフォルト値は 300000 ミリ秒です。</p>

</dd>
<dt>要求タイムアウト</dt>
<dd><p>要求タイムアウトまでの秒数。タイムアウト値に達するまでに要求が処理されない場合、要求は無視されます。デフォルト値は 30 秒です。</p>

</dd>
<dt>送信バッファーサイズ</dt>
<dd><p>送信バッファーのサイズ (バイト単位)。デフォルト値は 8192 バイトです。</p>

</dd>
<dt>ヘッダーバッファー長</dt>
<dd><p>要求処理スレッドが要求データの読み取り時に使用するバッファーのサイズ (バイト単位)。デフォルト値は 8192 バイトです。</p>

</dd>
<dt>最大ポストサイズ</dt>
<dd><p>POST 操作の最大サイズ (バイト単位)。デフォルト値は 2097152 バイトです。</p>

</dd>
<dt>URI エンコーディング</dt>
<dd><p>受信した要求 URI のデコードに使用する文字セットの名前。有効な IANA 文字セット名を指定する必要があります。デフォルト値は UTF-8 です。</p>

</dd>
<dt>バージョン</dt>
<dd><p>使用する HTTP プロトコルのバージョン。デフォルト値は HTTP/1.1 です。</p>

</dd>
<dt>圧縮</dt>
<dd><p>HTTP/1.1 GZIP 圧縮を使用してサーバー帯域幅を保存することを指定します。次のタイプを指定できます。</p>

<dl><dt><tt>on</tt></dt>
<dd><p>データを圧縮します。</p>

</dd>
<dt><tt>off</tt></dt>
<dd><p>圧縮を無効にします。</p>

</dd>
<dt><tt>force</tt></dt>
<dd><p>いつでも強制的にデータ圧縮を行います。</p>

</dd>
</dl>
<p>デフォルト値は「<tt>off</tt>」です。</p>

</dd>
<dt>圧縮可能な MIME タイプ</dt>
<dd><p>HTTP 圧縮を使用する MIME タイプのコンマ区切りのリスト。デフォルト値は、<tt>text/html,text/xml,text/plain</tt> です。</p>

</dd>
<dt>圧縮の最小サイズ</dt>
<dd><p>圧縮を適用するファイルの最小サイズ。圧縮を「<tt>on</tt>」または「<tt>force </tt>」に設定している場合は、この値を設定する必要があります。デフォルト値は 2048 バイトです。</p>

</dd>
<dt>圧縮を使用しないユーザーエージェント</dt>
<dd><p>圧縮を使用しない HTTP クライアントのユーザーエージェントに一致する正規表現のコンマ区切りのリスト。デフォルトでは、この値は空の文字列です。</p>

</dd>
<dt>制限されたユーザーエージェント</dt>
<dd><p>HTTP 圧縮を適用するユーザーエージェントのみを指定するリスト。ユーザーエージェントを指定しない場合は、すべてのユーザーエージェントに HTTP 圧縮が適用されます。デフォルトでは、ユーザーエージェントは指定されていません。</p>

</dd>
<dt>デフォルト応答タイプ</dt>
<dd><p>デフォルト応答タイプを指定する文字列。形式は、コンテンツタイプ、エンコーディング、言語、および文字セットで構成される、セミコロンで区切られた文字列になります。デフォルト値は、<tt>text/html; charset=iso-8859-1</tt> です。</p>

</dd>
<dt>強制応答タイプ</dt>
<dd><p>ファイル拡張子に一致する MIME マッピングがない場合に使用される、要求タイプを指定する文字列。形式は、コンテンツタイプ、エンコーディング、言語、および文字セットで構成される、セミコロンで区切られた文字列になります。デフォルト値は、<tt>text/html; charset=iso-8859-1</tt> です。</p>

</dd>
<dt>アダプタ</dt>
<dd><p>静的なリソースアダプタのクラス名。デフォルト値は、<tt>com.sun.grizzly.tcp.StaticResourcesAdapter</tt> です。</p>

</dd>
<dt>Comet サポート</dt>
<dd><p>このオプションを選択すると、このプロトコルを参照するネットワークリスナーで Comet サポートが有効になります。デフォルトでは、このオプションは無効です。サーブレットまたは JSP ページで Comet テクノロジを使用する場合は、<tt>web.xml</tt> ファイルに <tt>load-on-startup</tt> 要素を追加して、GlassFish Server の起動時に初期化する必要があります。次に例を示します。</p>

<pre>&#60;servlet>
&#60;servlet-name>CheckIn&#60;/servlet-name>
&#60;servlet-class>CheckInServlet&#60;/servlet-class>
&#60;load-on-startup>0&#60;/load-on-startup>
&#60;/servlet></pre></dd>
<dt>DNS 検索</dt>
<dd><p>このオプションを選択すると、DNS 検索が有効になっています。このオプションは、デフォルトでは無効になっています。</p>

</dd>
<dt>DNS 検索</dt>
<dd><p>このオプションを選択すると、DNS 検索が有効になっています。このオプションは、デフォルトでは無効になっています。</p>

</dd>
<dt>RCM サポート</dt>
<dd><p>このオプションを選択すると、Resource Configuration Management (RCM) が有効になります。このオプションは、デフォルトでは無効になっています。</p>

</dd>
<dt>トレース</dt>
<dd><p>このオプションを選択すると、TRACE 操作が有効になります。このオプションを無効にすると、GlassFish Server はクロスサイトスクリプト攻撃の影響を受けにくくなります。このオプションはデフォルトで有効になっています。</p>

</dd>
<dt>認証パススルー</dt>
<dd><p>このオプションを選択すると、このプロトコルを使用するネットワークリスナーが SSL の終端プロキシサーバーからのトラフィックを受信することを指定します。このオプションは、デフォルトでは無効になっています。</p>

</dd>
<dt>チャンク</dt>
<dd><p>このオプションを選択すると、HTTP 応答のチャンクが有効になります。このオプションはデフォルトで有効になっています。</p>

</dd>
<dt>XPowered By</dt>
<dd><p>このオプションを選択すると、GlassFish Server は Java Servlet 3.0 および Java Server Pages 2.0 の仕様に従って <tt>X-Powered-By</tt> ヘッダーを使用します。このオプションはデフォルトで有効になっています。</p>

</dd>
</dl>
<h5>関連操作</h5>

<ul><li><p><a href="task-protocolnew.html">「プロトコルを作成する」</a></p>

</li>
<li><p><a href="task-protocoledit.html">「プロトコルを編集する」</a></p>

</li>
<li><p><a href="task-protocolssledit.html">「プロトコルの SSL 設定を編集する」</a></p>

</li>
<li><p><a href="task-protocolhttpedit.html">「プロトコルの HTTP 設定を編集する」</a></p>

</li>
<li><p><a href="task-protocolfilecacheedit.html">「プロトコルのファイルキャッシュ設定を編集する」</a></p>

</li>
<li><p><a href="task-protocoldelete.html">「プロトコルを削除する」</a></p>

</li></ul>
<h5>関連する <tt>asadmin</tt> コマンド</h5>

<ul><li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=create-protocol-1"><tt>create-protocol</tt>(1)</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=list-protocols-1"><tt>list-protocols</tt>(1)</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=delete-protocol-1"><tt>delete-protocol</tt>(1)</a></p>

</li></ul>


<small>Copyright &#169; 2005, 2011, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">著作権について</a></small>
