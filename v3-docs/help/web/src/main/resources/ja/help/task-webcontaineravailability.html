<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-webcontaineravailability"></a><h4>Web コンテナの可用性を設定する</h4><a name="indexterm-12"></a><a name="indexterm-13"></a><a name="indexterm-14"></a><a name="indexterm-15"></a><ol>
<li><b>ナビゲーションツリーで、「設定」ノードを展開します。</b></li>
<li><b>変更する設定を選択します。</b></li>
<li><b>設定のノードで、「可用性サービス」ノードを選択します。</b><p>「可用性サービス」ページが開きます。</p></li>
<li><b>「可用性サービス」ページで、「Web コンテナの可用性」タブをクリックします。</b><p>「Web コンテナの可用性」ページが開きます。</p></li>
<li><b>「可用性サービス」フィールドで「有効」ボックスをオンにして、Web コンテナの可用性を有効にします。</b><p>可用性を無効にするには、「可用性サービス」の「有効」ボックスをオフにします。</p></li>
<li><b>「持続性のタイプ」ドロップダウンリストから、持続メカニズムを選択します。</b><ul>
<li><b>「可用性サービス」の「有効」を<b>選択しない</b>場合は、次のいずれかを選択します。</b>
<ul><li><p>セッション持続なしの場合は「<tt>memory</tt>」</p>

</li>
<li><p>高可用ではないファイルシステムに基づいたセッション持続の場合は「<tt>file</tt>」</p>

</li></ul>
</li>
<li><b>「可用性サービス」の「有効」を選択した場合は、高可用のクラスタフェイルオーバーに基づいたセッション持続の「<tt>replicated</tt>」を選択します。</b></li></ul></li>
<li><b>「持続性の頻度」ドロップダウンリストから、HTTP セッションの保存頻度を選択します。</b>
<ul><li><p><tt>web-method</tt> - セッション状態は、各 Web 要求の終了時に、クライアントに応答を返信する前に格納されます。このモードでは、障害発生時にセッション状態を完全に更新するための最良の保証が得られます。これはデフォルトの設定です。</p>

</li>
<li><p><tt>time-based</tt> - セッション状態が、「取得間隔」によって設定された頻度でバックグラウンドに格納されます。この設定の詳細については、<a href="task-webcontainermanagerprops.html">「Web コンテナのマネージャープロパティーを設定する」</a>を参照してください。</p>

<p>このモードでは、セッション状態が完全に更新されるという保証は低くなります。ただし、各要求後に状態が格納されないので、パフォーマンスが大幅に向上します。</p>

</li></ul>
<p>「持続性の頻度」は、「持続性のタイプ」が「<tt>replicated</tt>」の場合にのみ適用されます。</p></li>
<li><b>「持続性の範囲」ドロップダウンリストで、保存の発生に必要な HTTP セッション変更の範囲を選択します。</b>
<ul><li><p><tt>session</tt> - 常にすべてのセッション状態が格納されます。このモードでは、セッションデータを分散可能な Web アプリケーションに正しく格納するための最良の保証が得られます。</p>

</li>
<li><p><tt>modified-session</tt> - セッション状態が変更された場合、すべてのセッション状態が格納されます。<tt>HttpSession.setAttribute()</tt> または <tt>HttpSession.removeAttribute()</tt> が呼び出された場合に、セッションが変更されたと見なします。属性が変更されるたびに、必ず <tt>setAttribute()</tt> を呼び出す必要があります。これは Java EE 仕様の要件ではありませんが、このモードを正しく動作させるために必要になります。</p>

</li>
<li><p><tt>modified-attribute</tt> - 変更されたセッション属性だけが格納されます。このモードを正しく動作させるには、次のガイドラインに従う必要があります。</p>


<ul><li><p>セッション状態が変更されるたびに、<tt>setAttribute()</tt> を呼び出します。</p>

</li>
<li><p>属性間で相互参照しないようにします。別個の各属性キーにあるオブジェクトグラフを直列化し、別々に格納します。別個の各キーにあるオブジェクト間に相互参照がある場合は、正常な直列化および直列化復元は行われません。</p>

</li>
<li><p>複数の属性間、または少なくとも読み取り専用属性と変更可能な属性間でセッション状態を分散します。</p>

</li></ul>
</li></ul>
<p>「持続性の範囲」は、「持続性のタイプ」が「<tt>replicated</tt>」の場合にのみ適用されます。</p></li>
<li><b>「シングルサインオン状態」フィールドで「有効」ボックスをオンにして、フェイルオーバーでシングルサインオン状態を有効にします。</b><p>フェイルオーバーでシングルサインオン状態を無効にするには、「シングルサインオン状態」の「有効」ボックスをオフにします。</p></li>
<li><b>すべての設定の値をデフォルト値に戻すには、「デフォルトを読込み」ボタンをクリックします。</b></li>
<li>(省略可能) <b>「追加プロパティー」セクションで、追加プロパティーを指定します。</b><p>GlassFish サーバー は Web コンテナの可用性の追加プロパティーを定義しません。</p><ul>
<li><b>プロパティーを追加するには、「プロパティーを追加」ボタンをクリックします。表示される空白行で、「名前」フィールドにプロパティー名を入力し、「値」フィールドにプロパティー値を入力します。</b></li>
<li><b>プロパティーを変更するには、そのプロパティーの「値」フィールドを編集します。</b></li>
<li><b>プロパティーを削除するには、削除するプロパティーの「名前」フィールドの左側にあるチェックボックスを選択し、「プロパティを削除」ボタンをクリックします。</b></li></ul></li>
<li><b>「保存」をクリックします。</b></li></ol><h6>参照</h6>
<ul><li><p><a href="task-webcontainergeneral.html">「Web コンテナの一般プロパティーを設定する」</a></p>

</li>
<li><p><a href="task-webcontainersessiontimeout.html">「Web コンテナのセッションプロパティーを設定する」</a></p>

</li>
<li><p><a href="task-webcontainermanagerprops.html">「Web コンテナのマネージャープロパティーを設定する」</a></p>

</li>
<li><p><a href="task-webcontainerstoreprops.html">「Web コンテナのストアプロパティーを設定する」</a></p>

</li></ul>


<small>Copyright &#169; 2010, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">著作権について</a></small>
