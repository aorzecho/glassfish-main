<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2011 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-javamailsessioncreate"></a><h3>创建 JavaMail 会话</h3><a name="indexterm-1"></a><ol>
<li><b>在导航树中，展开&#8220;资源&#8221;节点。</b></li>
<li><b>在&#8220;资源&#8221;节点下，选择&#8220;JavaMail 会话&#8221;。</b><p>此时将打开&#8220;JavaMail 会话&#8221;页面。</p></li>
<li><b>在&#8220;会话&#8221;表中，单击&#8220;新建&#8221;。</b><p>此时将打开&#8220;新建 JavaMail 会话&#8221;页面。</p></li>
<li><b>在&#8220;JNDI 名称&#8221;字段中，键入邮件会话资源的唯一名称。 </b><p>将命名子上下文前缀 <tt>mail/</tt> 用于 JavaMail 资源。例如： <tt>mail/MySession</tt>。名称只能包含字母数字、下划线、短横线或点字符。</p></li>
<li><b>在&#8220;邮件主机&#8221;字段中，键入默认邮件服务器的主机名。</b><p>如果未提供特定于协议的主机属性，则 Store 和 Transport 对象的连接方法使用该值。名称必须可以解析为实际的主机名。</p></li>
<li><b>在&#8220;默认用户&#8221;字段中，键入连接到邮件服务器时要提供的用户名。 </b><p>如果未提供特定于协议的用户名属性，Store 和 Transport 对象的连接方法使用该值。用户名只能包含字母数字、下划线、短横线或点字符。</p></li>
<li><b>在&#8220;默认发件人地址&#8221;字段中，键入默认用户的电子邮件地址。</b><p>格式为 <i>username</i><tt>@</tt><i>host</i>.<i>domain</i>。</p></li>
<li><b>在&#8220;说明&#8221;字段中，键入此邮件会话的说明。</b></li>
<li><b>选中&#8220;启用状态&#8221;复选框以启用邮件会话。</b><p>默认值为&#8220;已启用&#8221;。</p></li>
<li><b>在&#8220;存储协议&#8221;字段中，定义要使用的存储协议服务。</b><p>存储协议服务可以连接到邮件服务器、检索邮件，以及将邮件保存在一个或多个文件夹中。允许的值为 <tt>imap</tt>、<tt>pop3</tt>、<tt>imaps</tt> 和 <tt>pop3s</tt>。默认值为 <tt>imap</tt>。</p></li>
<li><b>在&#8220;存储协议类&#8221;字段中，指定用于存储的服务提供者实现类。</b><p>允许的值包括：</p>


<ul><li><p><tt>com.sun.mail.imap.IMAPStore</tt></p>

</li>
<li><p><tt>com.sun.mail.pop3.POP3Store</tt></p>

</li>
<li><p><tt>com.sun.mail.imap.IMAPSSLStore</tt></p>

</li>
<li><p><tt>com.sun.mail.pop3.POP3SSLStore</tt></p>

</li></ul>
<p>默认值为 <tt>com.sun.mail.imap.IMAPStore</tt>。</p></li>
<li><b>在&#8220;传输协议&#8221;字段中，指定传输通信方法。</b><p>传输协议服务可以发送邮件。允许的值为 <tt>smtp</tt> 和 <tt>smtps</tt>。默认情况下，传输协议为 <tt>smtp</tt>。</p></li>
<li><b>在&#8220;传输协议类&#8221;字段中，指定用于传输的服务提供者实现类。</b><p>默认值为 <tt>com.sun.mail.smtp.SMTPTransport</tt>。</p></li>
<li><b>选中&#8220;调试&#8221;复选框以启用此邮件会话的附加调试输出（包含协议跟踪）。</b><p>如果将 JavaMail 日志级别设置为 <tt>FINE</tt> 或 FINER，将生成调试输出，并且此输出将包含在系统日志文件中。有关设置日志级别的信息，请参见<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-3034&id=task-eelogginglevels">配置日志级别</a>。默认情况下禁用此选项。</p></li>
<li>（可选的）<b>在&#8220;其他属性&#8221;表中，指定应用程序所需的其他属性，如特定于协议的主机或用户名属性。</b><p>有关可用属性的列表，请参见 <a href="http://java.sun.com/products/javamail/javadocs/index.html">JavaMail API 文档</a>。其他属性必须以 <tt>mail-</tt> 开头，并且必须使用连字符（不能使用句点）作为分隔符。例如，<tt>mail-debug</tt> 是正确的，而 <tt>mail.debug</tt> 是错误的。GlassFish Server 后端会将连字符转换为 JavaMail API 所需要的句点。</p><p>要添加属性，请单击&#8220;添加属性&#8221;按钮。在显示的空白行中，在&#8220;名称&#8221;字段中键入属性名称，在&#8220;值&#8221;字段中键入属性值。</p></li>
<li><b>从可用目标的列表中，选择要配置邮件会话的一个或多个目标，然后单击&#8220;添加&#8221;。</b><p>目标可以是群集或独立服务器实例。如果没有选择任何目标，则会将会话配置为默认的服务器实例 <tt>server</tt>。</p></li>
<li><b>单击&#8220;确定&#8221;。</b></li></ol><p></b>另请参见</b></p>
<ul><li><p><a href="task-javamailsessionsedit.html">编辑 JavaMail 会话</a></p>

</li>
<li><p><a href="task-javamailsessionsdelete.html">删除 JavaMail 会话</a></p>

</li></ul>


<small>版权所有 &#169; 2005, 2011, Oracle 和/或其附属公司。 保留所有权利。 <a href="docinfo.html">法律声明</a></small>
