<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2011 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-jdbcconnectionpoolnew"></a><h3>JDBC 接続プールを作成する</h3><a name="indexterm-7"></a><a name="indexterm-8"></a><a name="indexterm-9"></a><p>管理コンソール で接続プールを作成すると、特定のデータベースへの接続の項目を定義することになります。</p>

<p><b>始める前に</b></p><p>接続プールを作成するには、JDBC API をサポートするドライバ (JDBC ドライバ) を最初にインストールし、統合する必要があります。<a href="task-integratejdbcdriver.html">「JDBC ドライバを統合する」</a>を参照してください。</p>

<p>JDBC 接続プールの作成には次の情報が必要です。手順を進める前に、これらの情報を収集してください。</p>


<ul><li><p>データベースベンダー名</p>

</li>
<li><p><tt>javax.sql.DataSource</tt> (ローカルトランザクションのみ)、<tt>java.sql.ConnectionPoolDataSource</tt> (ローカルトランザクション、パフォーマンス改善が可能)、<tt>javax.sql.XADataSource</tt> (グローバルトランザクション)、および <tt>java.sql.Driver</tt> などのリソ ス型</p>

</li>
<li><p>データソースクラス名</p>

</li>
<li><p>データベース名 (URL)、ユーザー名、およびパスワードなどの必要なプロパティー</p>

</li></ul>
<ol>
<li><b>ナビゲーションツリーで、「共通操作」ノードを選択します。</b><p>「共通操作」ページが開きます。 </p></li>
<li><b>「共通操作」ページで、「新しい JDBC 接続プールを作成します」ボタンをクリックします。</b><p>「新しい JDBC 接続プール (ステップ 1/2)」ページが開きます。</p>
<hr><p><b>注 - </b>「リソース」ノードおよび「JDBC」ノードを展開し、「接続プール」ノードを選択して、「新しい JDBC 接続プール」ページにアクセスすることもできます。次に、「接続プール」ページで、「新規」を選択して新しい接続プールを作成します。</p>


<hr>
</li>
<li><b>「プール名」フィールドに、新しい接続フィールドの名前を入力します。</b><p>このフィールドは必須です。</p></li>
<li><b>「リソースタイプ」ドロップダウンリストから、リソースタイプを選択します。</b><p>選択できるのは、<tt>javax.sql.XADataSource</tt> (グローバルトランザクション)、<tt>java.sql.ConnectionPoolDataSource</tt> (ローカルトランザクション、パフォーマンス改善が可能)、<tt>javax.sql.DataSource</tt> (ローカルトランザクションのみ)、および <tt>java.sql.Driver</tt> です。</p></li>
<li><b>次のいずれかの操作を実行して、データベースベンダーを指定します。</b><ul>
<li><b>「データベースベンダー」ドロップダウンリストから、データベースベンダーを選択します。</b></li>
<li><b>データベースベンダーがリストに表示されない場合は、「データベースベンダー」テキストフィールドにベンダーの名前を入力します。</b></li></ul></li>
<li><b>「次へ」をクリックします。</b><p>「新しい JDBC 接続プール (ステップ 2/2)」ページが開きます。</p></li>
<li><b>「データソースクラス名」フィールドに、<tt>DataSource</tt>、<tt>ConnectionPoolDataSource</tt>、または <tt>XADataSource</tt> の API を実装するベンダー固有のクラス名を入力します。</b><p>データソースリソースタイプのいずれかを選択した場合、通常このフィールドには、選択したリソースタイプとデータベースベンダーに関連付けられたクラス名が自動的に入力されます。<tt>java.sql.Driver</tt> リソースタイプを選択した場合、このフィールドは無効になります。</p></li>
<li><b>「ドライバクラス名」フィールドに、<tt>java.sql.Driver</tt> API を実装するベンダー固有のクラス名を入力します。</b><p><tt>java.sql.Driver</tt> リソースタイプを選択した場合、通常このフィールドには、選択したドライバとデータベースベンダーに関連付けられたクラス名が自動的に入力されます。データソースリソースタイプのいずれかを選択した場合、このフィールドは無効になります。</p></li>
<li><b>「Ping」の「有効」チェックボックスを選択して、プールの作成または再設定時にプールに対して自動的に ping を実行し、誤った属性値を識別および警告します。</b><p>このオプションは、デフォルトでは無効になっています。</p></li>
<li><b>「説明」フィールドに、接続プールの簡単な説明を入力します。</b></li>
<li><b>「初期および最小プールサイズ」フィールドに、このプールの最小接続数を入力します。</b><p>この値は、プールを最初に作成したり、GlassFish Server を起動したりしたときの、プールに含まれる接続の数も判定します。デフォルト値は 8 です。</p></li>
<li><b>「最大プールサイズ」フィールドに、このプールの最大接続数を入力します。</b><p>デフォルト値は 32 です。</p></li>
<li><b>「プールサイズ変更量」フィールドに、プールサイズの変更バッチごとの接続数を入力します。</b><p>プールのサイズを最大プールサイズおよび最小プールサイズに対して拡大および縮小すると、一括処理でプールサイズが変更されます。この値は一括処理での接続の数を指定します。この値を過大に設定すると接続の作成と再利用が遅れ、過小に設定すると効率が落ちます。デフォルト値は 2 です。</p></li>
<li><b>「アイドルタイムアウト」フィールドに、接続がプール内にアイドル状態で残ることができる最大時間を秒単位で入力します。</b><p>この時間を過ぎると、接続はプールから削除されます。デフォルト値は 300 です。</p></li>
<li><b>「最大待ち時間」フィールドに、接続を要求しているアプリケーションが接続タイムアウトを受け取るまでに待機する最長時間をミリ秒単位で入力します。</b><p>デフォルト値は 60,000 です。</p></li>
<li><b>「非トランザクション接続」の「有効」チェックボックスを選択して、非トランザクション接続を返すようにします。</b><p>このオプションは、デフォルトでは無効になっています。</p></li>
<li><b>「トランザクション遮断」の「レベル」ドロップダウンリストから、この接続プールのトランザクション遮断レベルを選択します。</b><p>指定しない場合、接続には JDBC ドライバによって設定されるデフォルトの遮断レベルが適用されます。デフォルトでは、このオプションは指定されていません。</p></li>
<li><b>「遮断レベル &#8211; 保証」チェックボックスを選択して、プールから取得されるすべての接続が同じ遮断レベルになることを保証します。</b><p>たとえば、最後の使用時に <tt>con.setTransactionIsolation</tt> を使って接続の遮断レベルをプログラム的に変更した場合、このメカニズムによって状態が指定の遮断レベルに戻されます。このオプションはデフォルトで有効になっています。</p><p>この設定が適用されるのは、トランザクション遮断レベルが指定された場合のみです。</p></li>
<li>(省略可能) <b>「追加プロパティー」セクションで、追加プロパティーを指定します。</b><p>必須プロパティーの具体例は、データベース名 (URL)、ユーザー名、パスワードなどです。通常、表にはデータベースベンダーが使用するプロパティーが含まれます。使用可能なプロパティーの詳細については、<a href="ref-jdbc-properties.html">「JDBC 接続プールに固有のプロパティー」</a>を参照してください。</p><p>指定しないプロパティーの値は、接続プールの作成が完了したときに表から削除されます。プロパティーの値をすぐに設定せず、あとで設定できるように表に維持する場合は、「値」フィールドに空の括弧を入力します。</p><pre>()</pre><ul>
<li><b>プロパティーを追加するには、「プロパティーを追加」ボタンをクリックします。表示される空白行で、「名前」フィールドにプロパティー名を入力し、「値」フィールドにプロパティー値を入力します。</b></li>
<li><b>プロパティーを変更するには、そのプロパティーの「値」フィールドを編集します。</b></li>
<li><b>プロパティーを削除するには、削除するプロパティーの「名前」フィールドの左側にあるチェックボックスを選択し、「プロパティを削除」ボタンをクリックします。</b></li></ul></li>
<li><b>「完了」をクリックします。</b></li></ol><p></b>参照</b></p>
<ul><li><p><a href="task-setdbaccess.html">「データベースアクセスを設定する」</a></p>

</li>
<li><p><a href="task-integratejdbcdriver.html">「JDBC ドライバを統合する」</a></p>

</li>
<li><p><a href="task-jdbcresourcenew.html">「JDBC リソースを作成する」</a></p>

</li>
<li><p><a href="task-jdbcresourcesedit.html">「JDBC リソースを編集する」</a></p>

</li>
<li><p><a href="task-jdbcresourcetargets.html">「JDBC リソースのターゲットを編集する」</a></p>

</li>
<li><p><a href="task-jdbcresourcesdelete.html">「JDBC リソースを削除する」</a></p>

</li>
<li><p><a href="task-jdbcconnectionpooledit.html">「JDBC 接続プールの一般設定を編集する」</a></p>

</li>
<li><p><a href="task-jdbcconnectionpooladvance.html">「JDBC 接続プールの詳細属性を編集する」</a></p>

</li>
<li><p><a href="task-verifyconnpoolsettings.html">「接続プール設定を検証する」</a></p>

</li>
<li><p><a href="task-jdbcconnectionpoolproperty.html">「JDBC 接続プールのプロパティーを編集する」</a></p>

</li>
<li><p><a href="task-jdbcconnectionpooldelete.html">「JDBC 接続プールを削除する」</a></p>

</li></ul>


<small>Copyright &#169; 2005, 2011, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">著作権について</a></small>
