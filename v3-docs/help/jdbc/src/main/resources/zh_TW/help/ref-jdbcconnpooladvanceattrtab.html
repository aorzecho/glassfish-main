<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2011 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->
<a name="ref-jdbcconnpooladvanceattrtab"></a><h4>編輯連線池進階屬性</h4>
<a name="indexterm-24"></a><p>使用 [編輯連線池進階屬性] 頁面可指定能幫助診斷連線錯誤和改善簡易操作性的屬性。</p>

<p>[編輯連線池進階屬性] 頁面包含下列選項。</p>

<dl><dt>載入預設值</dt>
<dd><p>用於將具有預設值的設定復原成其預設值的按鈕。沒有預設值的設定保持不變。</p>

</dd>
<dt>池名稱</dt>
<dd><p>連線池的名稱。名稱是唯讀欄位。您僅能在建立新的 JDBC 連線池時指定連線池名稱。</p>

</dd>
<dt>陳述式逾時</dt>
<dd><p>終止執行時間過長的查詢之前，等待的時間長度 (以秒為單位)。GlassFish Server 將對建立的敘述設定 <tt>QueryTimeout</tt>。值 &#8211;1 表示停用該選項。預設值為 &#8211;1。</p>

</dd>
<dt>陳述式快取大小</dt>
<dd><p>要使用 LRU (近來最少使用) 快取機制快取的陳述式數目。0 值會停用陳述式快取。預設值為 0。</p>

</dd>
<dt>初始化 SQL</dt>
<dd><p>每當在池中建立連線時會執行的 SQL 字串 (不重複使用)。執行此字串會初始化連線狀態。</p>

</dd>
<dt>SQL 追蹤偵聽程式</dt>
<dd><p>以逗號分隔的偵聽程式實作類別名稱清單，會指定追蹤應用程式執行的 SQL 陳述式。偵聽程式類別必須實作 <tt>org.glassfish.api.jdbc.SQLTraceListener</tt> 介面。使用偵聽程式能讓您針對 SQL 陳述式輕鬆篩選記錄訊息，且能幫助管理員分析陳述式。 </p>

</dd>
<dt>包裝 JDBC 物件</dt>
<dd><p>若啟用此選項，應用程式將會取得 Statement、PreparedStatement、CallableStatement、ResultSet、DatabaseMetaData 的包裝 JDBC 物件。此選項預設為啟用。</p>

</dd>
<dt>池儲存</dt>
<dd><p>針對池啟用連線池儲存。此選項預設為啟用。</p>

</dd>
<dt>驗證間隔最久時間</dt>
<dd><p>指定連續請求驗證連線的最長時間間隔 (以秒為單位)。將此屬性設定為適當值，可將驗證連線請求的數目減至最小。預設值為 0，表示未啟用該屬性。</p>

</dd>
<dt>錯誤逾時</dt>
<dd><p>追蹤連線池中連線錯誤的時間 (以秒為單位)。使用此欄位可偵測應用程式造成的潛在連線錯誤。若應用程式未於指定期間內將連線傳回池，則會假設連線可能發生錯誤，並會記錄呼叫者的堆疊追蹤。0 值表示已停用連線錯誤追蹤。預設值為 0。</p>

<p>將此欄位與 [錯誤收回] 欄位配合使用，可避免應用程式造成的潛在連線錯誤。</p>

</dd>
<dt>錯誤收回</dt>
<dd><p>若啟用此選項，則在錯誤連線追蹤完成之後，會將錯誤的連線復原至連線池中。此選項預設為停用。</p>

</dd>
<dt>建立重試嘗試</dt>
<dd><p>在建立新連線失敗之後，將進行的嘗試次數。值 0 表示不會再次嘗試建立連線。預設值為 0。</p>

</dd>
<dt>重試間隔</dt>
<dd><p>兩次嘗試建立連線之間的時間間隔 (以秒為單位)。預設值為 10。僅當 [建立重新嘗試次數] 的值大於 0 時，才使用該屬性。</p>

</dd>
<dt>惰性關聯</dt>
<dd><p>若啟用此選項，僅當使用連線時，才會將實體連線與邏輯集合關聯。當作業事件完成且元件方法結束時，這些連線便會取消關聯，從而可以重複使用實體連線。此選項預設為停用。</p>

</dd>
<dt>惰性連線登記</dt>
<dd><p>若啟用此選項，僅當資源在方法中實際使用時，才會將該資源加入作業事件。此選項預設為停用。</p>

</dd>
<dt>與執行緒建立關聯</dt>
<dd><p>若啟用此選項，將建立連線與執行緒之間的關聯，這樣當相同的執行緒需要連線時，便可重複使用已與該執行緒相關聯的連線，而省下從池中取得連線的經常性耗用時間。此選項預設為停用。</p>

</dd>
<dt>比對連線</dt>
<dd><p>若啟用此選項，會將從池中選取的連線與具有特定憑證的連線加以比對。如果連線池是供具有多個使用者憑證的應用程式使用，則必須啟用此選項。您可以在以下情況下安全地停用此選項：管理員知道池中的連線一定是同質連線，因此不需要資源配接卡對從池中挑選的連線進行比對。此選項預設為停用。</p>

</dd>
<dt>連線的最多使用次數</dt>
<dd><p>連線池應重複使用連線的次數。重複使用指定次數的連線後，就會關閉連線。您可以透過限制連線可重複使用的次數，避免在應用程式未關閉陳述式時，發生陳述式錯誤。值 0 表示停用此屬性。預設值為 0。</p>

</dd>
<dt>連線驗證</dt>
<dd><p>若啟用此選項，則需要驗證連線，以在失敗時允許伺服器重新連線。</p>

</dd>
<dt>驗證方法</dt>
<dd><p>GlassFish Server 可使用以下方式驗證資料庫連線。</p>

<dl><dt><tt>auto-commit</tt> 和 <tt>metadata</tt></dt>
<dd><p>GlassFish Server 會透過呼叫 <tt>con.getAutoCommit</tt> 或 <tt>con.getMetaData</tt> 方法驗證連線。 </p>


<hr><p><b>備註 - </b>許多 JDBC 驅動程式會快取這些呼叫的結果。因此，使用這些呼叫不一定能提供可靠的驗證。請與驅動程式供應商進行核實，以確定這些呼叫是否被快取。</p>


<hr>
</dd>
<dt><tt>custom-validation</tt></dt>
<dd><p>GlassFish Server 會使用 [驗證類別名稱] 欄位中的自訂實作類別所指定的使用者定義驗證機制。</p>

</dd>
<dt><tt>table</tt></dt>
<dd><p>應用程式會查詢指定的資料庫表格。此表格必須存在並且可以存取，但不要求表格的列數。請勿使用包含許多列的現有表格或經常存取的表格。</p>

</dd>
</dl>
</dd>
<dt>表格名稱</dt>
<dd><p>用於驗證的資料庫表格名稱。只有在 [驗證方法] 設為 <tt>table</tt> 時，才可使用此欄位。</p>

</dd>
<dt>驗證類別名稱</dt>
<dd><p>自訂驗證實作類別名稱。只有在 [驗證方法] 設為 <tt>custom-validation</tt> 時，才可使用此欄位。GlassFish Server 必須可以存取提供的類別名稱。指定的類別必須實作 <tt>org.glassfish.api.jdbc.ConnectionValidation</tt> 介面。</p>

</dd>
<dt>一旦失敗</dt>
<dd><p>若啟用此選項，則在任何連線失敗時，GlassFish Server 會關閉池中的所有連線並重新建立連線。若停用此選項，則僅會在使用連線時重新建立個別連線。此選項預設為停用。</p>

</dd>
<dt>允許非元件呼叫者</dt>
<dd><p>若啟用此選項，則非元件呼叫者 (例如 Servlet 篩選與第三方持續性管理員) 可使用池。非元件呼叫者所取得的連線，不會在作業事件結束時由容器自動關閉。這些連線必須由呼叫者明確地關閉。此選項預設為停用。</p>

</dd>
</dl>
<a name="gkonw"></a><h5>相關作業</h5>

<ul><li><p><a href="task-setdbaccess.html">設定資料庫存取</a></p>

</li>
<li><p><a href="task-integratejdbcdriver.html">整合 JDBC 驅動程式</a></p>

</li>
<li><p><a href="task-jdbcconnectionpoolnew.html">建立 JDBC 連線池</a></p>

</li>
<li><p><a href="task-jdbcconnectionpooledit.html">編輯 JDBC 連線池一般設定</a></p>

</li>
<li><p><a href="task-verifyconnpoolsettings.html">驗證連線池設定</a></p>

</li>
<li><p><a href="task-jdbcconnectionpooladvance.html">編輯 JDBC 連線池進階屬性</a></p>

</li>
<li><p><a href="task-jdbcconnectionpoolproperty.html">編輯 JDBC 連線池特性</a></p>

</li>
<li><p><a href="task-jdbcconnectionpooldelete.html">刪除 JDBC 連線池</a></p>

</li></ul>
<a name="gkoli"></a><h5>相關的 <tt>asadmin</tt> 指令</h5>

<ul><li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=add-resources-1"><tt>add-resources</tt>(1)</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=create-jdbc-connection-pool-1"><tt>create-jdbc-connection-pool</tt>(1)</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=delete-jdbc-connection-pool-1"><tt>delete-jdbc-connection-pool</tt>(1)</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=list-jdbc-connection-pools-1"><tt>list-jdbc-connection-pools</tt>(1)</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=ping-connection-pool-1"><tt>ping-connection-pool</tt>(1)</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=start-database-1"><tt>start-database</tt>(1)</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=stop-database-1"><tt>stop-database</tt>(1)</a></p>

</li></ul>


<small>版權所有 &#169; 2005, 2011, Oracle 和 (或) 其關係公司。 保留一切權利。 <a href="docinfo.html">法律聲明</a></small>
