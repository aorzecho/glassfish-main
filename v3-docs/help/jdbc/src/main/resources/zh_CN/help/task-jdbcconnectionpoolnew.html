<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2011 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-jdbcconnectionpoolnew"></a><h3>创建 JDBC 连接池</h3><a name="indexterm-7"></a><a name="indexterm-8"></a><a name="indexterm-9"></a><p>使用管理控制台创建连接池时，您是在定义到特定数据库的连接的各个方面。</p>

<p><b>开始之前</b></p><p>要创建连接池，必须先安装和集成一个支持 JDBC API 的驱动程序（JDBC 驱动程序）。请参见<a href="task-integratejdbcdriver.html">集成 JDBC 驱动程序</a>。</p>

<p>以下信息是创建 JDBC 连接池所必需的。请先收集这些信息，然后再继续：</p>


<ul><li><p>数据库供应商名称</p>

</li>
<li><p>资源类型，如 <tt>javax.sql.DataSource</tt>（仅本地事务）、<tt>java.sql.ConnectionPoolDataSource</tt>（本地事务，性能可能会提高）、<tt>javax.sql.XADataSource</tt>（全局事务）和 <tt>java.sql.Driver</tt></p>

</li>
<li><p>数据源类名</p>

</li>
<li><p>必需的属性，如数据库名称 (URL)、用户名和密码</p>

</li></ul>
<ol>
<li><b>在导航树中，选择&#8220;日常任务&#8221;节点。</b><p>此时将打开&#8220;日常任务&#8221;页面。</p></li>
<li><b>在&#8220;日常任务&#8221;页面上，单击&#8220;创建新 JDBC 连接池&#8221;按钮。</b><p>此时将打开&#8220;新建 JDBC 连接池（步骤 1，共 2 步）&#8221;页面。</p>
<hr><p><b>注 - </b>您还可以通过以下方法访问&#8220;新建 JDBC 连接池&#8221;页面：展开&#8220;资源&#8221;节点和 "JDBC" 节点，然后选择&#8220;连接池&#8221;节点。然后，从&#8220;连接池&#8221;页面中，单击&#8220;新建&#8221;来创建新的连接池。</p>


<hr>
</li>
<li><b>在&#8220;池名称&#8221;字段中，键入新连接池的名称。</b><p>这是必需字段。</p></li>
<li><b>从&#8220;资源类型&#8221;下拉式列表中，选择一种资源类型。</b><p>选项包括 <tt>javax.sql.XADataSource</tt>（全局事务）、<tt>java.sql.ConnectionPoolDataSource</tt>（本地事务，性能可能会提高）、<tt>javax.sql.DataSource</tt>（仅本地事务）和 <tt>java.sql.Driver</tt>。</p></li>
<li><b>通过执行以下操作之一，指定数据库供应商：</b><ul>
<li><b>从&#8220;数据库供应商&#8221;下拉式列表中，选择数据库供应商。</b></li>
<li><b>如果数据库供应商没有出现在列表中，请在&#8220;数据库供应商&#8221;文本字段中键入供应商的名称。</b></li></ul></li>
<li><b>单击&#8220;下一步&#8221;。</b><p>此时将打开&#8220;新建 JDBC 连接池（步骤 2，共 2 步）&#8221;页面。</p></li>
<li><b>在&#8220;数据源类名称&#8221;字段中，键入实现 <tt>DataSource</tt>、<tt>ConnectionPoolDataSource</tt> 或 <tt>XADataSource</tt> API 的特定于供应商的类名。</b><p>如果选择了一种数据源资源类型，则此字段通常会自动填充与您选择的资源类型和数据库供应商关联的类名。如果选择了 <tt>java.sql.Driver</tt> 资源类型，则此字段将被禁用。</p></li>
<li><b>在&#8220;驱动程序类名&#8221;字段中，键入实现 <tt>java.sql.Driver</tt> API 的特定于供应商的类名。</b><p>如果选择了 <tt>java.sql.Driver</tt> 资源类型，则此字段通常会自动填充与您选择的驱动程序和数据库供应商关联的类名。如果选择了一种数据源资源类型，则此字段将被禁用。</p></li>
<li><b>选中&#8220;启用 Ping&#8221;复选框，在池创建或重新配置过程中自动对池进行 ping 操作，以识别任何错误属性值并发出警告。</b><p>默认情况下禁用此选项。</p></li>
<li><b>在&#8220;说明&#8221;字段中，键入连接池的简短说明。</b></li>
<li><b>在&#8220;初始和最小池大小&#8221;字段中，键入此池的最小连接数。</b><p>该值还确定了首次创建池或 GlassFish Server 启动时，置于池中的连接的数目。默认值为 8。</p></li>
<li><b>在&#8220;最大池大小&#8221;字段中，键入此池的最大连接数。</b><p>默认值为 32。</p></li>
<li><b>在&#8220;池大小调整数量&#8221;字段中，键入每个池大小调整批处理中的连接数。</b><p>当池根据最大和最小池大小进行相应扩大或缩小时，将以批处理方式调整其大小。此值确定批处理中的连接数目。如果将该值设置得过大，则会延迟连接创建和回收；如果将该值设置得过小，则会降低效率。默认值为 2。</p></li>
<li><b>在&#8220;空闲超时&#8221;字段中，键入连接可在池中保持空闲状态的最长时间（以秒为单位）。</b><p>一旦超过此时间，即从池中删除该连接。默认值为 300。</p></li>
<li><b>在&#8220;最长等待时间&#8221;字段中，键入请求连接的应用程序在连接超时之前等待的最长时间（以毫秒为单位）。</b><p>默认值为 60,000。</p></li>
<li><b>选中&#8220;启用非事务连接&#8221;复选框，以返回非事务连接。</b><p>默认情况下禁用此选项。</p></li>
<li><b>从&#8220;事务隔离级别&#8221;下拉式列表中，选择此连接池的事务隔离级别。</b><p>如果不指定此参数，连接将使用 JDBC 驱动程序提供的默认隔离级别进行操作。默认情况下，未指定此选项。</p></li>
<li><b>选中&#8220;保证隔离级别&#8221;复选框，确保从池中获取的所有连接都具有相同的隔离级别。</b><p>例如，如果上次使用连接时通过编程方式（使用 <tt>con.setTransactionIsolation</tt>）更改了连接的隔离级别，此机制会将状态更改回指定的隔离级别。默认情况下启用此选项。</p><p>仅当已指定事务隔离级别时，此设置才适用。</p></li>
<li>（可选的）<b>在&#8220;其他属性&#8221;部分中，指定其他属性。</b><p>必需属性的示例包括数据库名称 (URL)、用户名和密码。该表通常包含数据库供应商使用的属性。有关某些可用属性的信息，请参见<a href="ref-jdbc-properties.html">特定于 JDBC 连接池的属性</a>。</p><p>如果您不指定某个属性的值，则在创建完连接池时，该属性将从表中删除。如果您现在不希望设置某个属性的值，但希望将该属性保留在表中以便在以后设置值，请在&#8220;值&#8221;字段中键入一对空括号：</p><pre>()</pre><ul>
<li><b>要添加属性，请单击&#8220;添加属性&#8221;按钮。在显示的空白行中，在&#8220;名称&#8221;字段中键入属性名称，在&#8220;值&#8221;字段中键入属性值。</b></li>
<li><b>要修改属性，请编辑该属性的&#8220;值&#8221;字段。</b></li>
<li><b>要删除属性，请选中位于您要删除属性的&#8220;名称&#8221;字段左边的复选框，然后单击&#8220;删除属性&#8221;按钮。</b></li></ul></li>
<li><b>单击&#8220;完成&#8221;。</b></li></ol><p></b>另请参见</b></p>
<ul><li><p><a href="task-setdbaccess.html">设置数据库访问</a></p>

</li>
<li><p><a href="task-integratejdbcdriver.html">集成 JDBC 驱动程序</a></p>

</li>
<li><p><a href="task-jdbcresourcenew.html">创建 JDBC 资源</a></p>

</li>
<li><p><a href="task-jdbcresourcesedit.html">编辑 JDBC 资源</a></p>

</li>
<li><p><a href="task-jdbcresourcetargets.html">编辑 JDBC 资源目标</a></p>

</li>
<li><p><a href="task-jdbcresourcesdelete.html">删除 JDBC 资源</a></p>

</li>
<li><p><a href="task-jdbcconnectionpooledit.html">编辑 JDBC 连接池常规设置</a></p>

</li>
<li><p><a href="task-jdbcconnectionpooladvance.html">编辑 JDBC 连接池高级属性</a></p>

</li>
<li><p><a href="task-verifyconnpoolsettings.html">验证连接池设置</a></p>

</li>
<li><p><a href="task-jdbcconnectionpoolproperty.html">编辑 JDBC 连接池属性</a></p>

</li>
<li><p><a href="task-jdbcconnectionpooldelete.html">删除 JDBC 连接池</a></p>

</li></ul>


<small>版权所有 &#169; 2005, 2011, Oracle 和/或其附属公司。 保留所有权利。 <a href="docinfo.html">法律声明</a></small>
