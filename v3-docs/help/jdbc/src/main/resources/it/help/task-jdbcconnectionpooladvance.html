<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2012 Oracle and/or its affiliates. All rights reserved.

Use is subject to License Terms  -->
<p><a id="task-jdbcconnectionpooladvance" name="task-jdbcconnectionpooladvance"></a><a id="GHJDB00038" name="GHJDB00038"></a></p>

<h4><a id="sthref19" name="sthref19"></a>Modificare gli attributi avanzati dei connection pool JDBC</h4>
<a name="BEGIN" id="BEGIN"></a>
<ol>
<li>
<p>Nell'albero di navigazione espandere il nodo Risorse.</p>
</li>
<li>
<p>Nel nodo Risorse, selezionare il nodo JDBC.</p>
</li>
<li>
<p>Nel nodo JDBC, selezionare il nodo Connection pool.</p>
<p>Viene visualizzata la pagina Connection pool.</p>
</li>
<li>
<p>Nella pagina Connection pool, fare clic sul nome del pool da modificare.</p>
<p>Viene visualizzata la pagina Modifica connection pool.</p>
</li>
<li>
<p>Nella pagina Modifica connection pool, fare clic sulla scheda Avanzate.</p>
<p>Viene visualizzata la pagina Modifica attributi avanzati connection pool.</p>
</li>
<li>
<p>Nel campo Timeout istruzione, digitare il periodo di tempo in secondi trascorso il quale le query di lunghezza eccessiva verranno terminate.</p>
<p>GlassFish Server imposter&agrave; <code>QueryTimeout</code> per le istruzioni create. Impostare il valore su -1 per disabilitare l'opzione. Il valore predefinito &egrave; -1.</p>
</li>
<li>
<p>Nel campo Dimensione cache istruzioni, digitare il numero di istruzioni da inserire nella cache mediante il meccanismo LRU (Least Recently Used, utilizzato meno di recente).</p>
<p>Per disabilitare l'inserimento nella cache delle istruzioni, specificare il valore 0. Il valore predefinito &egrave; 0.</p>
</li>
<li>
<p>Nel campo SQL iniz., digitare la stringa SQL da eseguire ogni volta che si crea (e non ogni volta che si riutilizza) una connessione nel pool.</p>
<p>L'esecuzione della stringa inizializza lo stato della connessione.</p>
</li>
<li>
<p>Nel campo Listener SQL Trace, digitare una lista separata da virgole di nomi di classi di implementazione del listener per impostare il trace delle istruzioni SQL eseguite dalle applicazioni.</p>
<p>Le classi di listener devono implementare l'interfaccia <code>org.glassfish.api.jdbc.SQLTraceListener</code>. L'utilizzo di listener semplifica l'operazione di filtro dei messaggi del log per le istruzioni SQL e consente agli amministratori di analizzare le istruzioni.</p>
</li>
<li>
<p>Selezionare la casella di controllo Wrapping oggetti JDBC abilitato per far s&igrave; che le applicazioni ricevano oggetti JDBC sottoposti a wrapping per <code>Statement</code>, <code>PreparedStatement</code>, <code>CallableStatement</code>, <code>ResultSet</code> e <code>DatabaseMetaData</code>.</p>
<p>Questa opzione &egrave; abilitata per impostazione predefinita.</p>
</li>
<li>
<p>Selezionare la casella di controllo Pooling per abilitare la creazione del connection pooling per il pool.</p>
<p>Questa opzione &egrave; abilitata per impostazione predefinita.</p>
</li>
<li>
<p>Nel campo Convalida al massimo una volta, digitare il numero di secondi al termine dei quali una connessione viene convalidata al massimo una volta.</p>
<p>Impostando un valore appropriato per questo attributo si riduce al minimo il numero di richieste di convalida di una connessione. Il valore predefinito &egrave; 0 e implica che l'attributo non sia abilitato.</p>
</li>
<li>
<p>Nel campo Timeout perdite connessione, digitare il numero di secondi necessari per rilevare le perdite di connessione in un connection pool.</p>
<p>Utilizzare il campo per rilevare potenziali perdite di connessione dell'applicazione. Si presume che una connessione non restituita al pool dall'applicazione entro il tempo previsto rappresenti una perdita, pertanto viene registrata uno stack trace del chiamante. Impostare il valore su 0 per disabilitare il rilevamento delle perdite di connessione. Il valore predefinito &egrave; 0.</p>
<p>Utilizzare il campo insieme a Recupero perdite connessione per evitare potenziali perdite di connessione dall'applicazione.</p>
</li>
<li>
<p>Selezionare la casella di controllo Recupero perdite connessione per ripristinare le connessioni perse nel pool una volta completato il trace della perdita delle connessioni.</p>
<p>Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Nel campo Timeout perdite connessione, digitare il numero di secondi necessari per rilevare le perdite relative alle istruzioni in un connection pool.</p>
<p>Utilizzare il campo per rilevare potenziali perdite di connessione dell'applicazione. Quando un'istruzione non viene restituita al pool dall'applicazione entro il periodo specificato, si presume che sia una potenziale perdita e viene registrato uno stack trace del chiamante. Impostare il valore su 0 per disabilitare il rilevamento delle perdite relative alle istruzioni. Il valore predefinito &egrave; 0.</p>
<p>Utilizzare il campo insieme a Recupero perdite istruzioni per evitare potenziali perdite di istruzioni dall'applicazione.</p>
</li>
<li>
<p>Selezionare la casella di controllo Recupero perdite istruzioni per ripristinare le istruzioni perse nel pool una volta completato il trace.</p>
<p>Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Nel campo Numero di nuovi tentativi di creazione, digitare il numero di tentativi da effettuare in caso di errore durante la creazione di una nuova connessione.</p>
<p>Impostare il valore su 0 per non impostare alcun tentativo di creazione della connessione. Il valore predefinito &egrave; 0.</p>
</li>
<li>
<p>Nel campo Intervallo tentativi, digitare l'intervallo in secondi che intercorre tra un tentativo di creare una connessione e quello successivo.</p>
<p>Il valore predefinito &egrave; 10. Questo attributo viene utilizzato solo se il valore di Numero di nuovi tentativi di creazione &egrave; maggiore di 0.</p>
</li>
<li>
<p>Selezionare la casella di controllo Associazione ritardata abilitata per associare una connessione fisica a una connessione logica soltanto quando viene utilizzata.</p>
<p>Le connessioni vengono disassociate quando la transazione &egrave; completa e termina un metodo del componente. In tal modo il riutilizzo delle connessioni fisiche risulta pi&ugrave; agevole. Se l'opzione &egrave; disabilitata, una connessione fisica viene associata a una connessione logica anche prima di essere utilizzata. Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Selezionare la casella di controllo Partecipazione alla transazione connessioni ritardate abilitata per integrare una risorsa nella transazione solo quando viene effettivamente utilizzata in un metodo.</p>
<p>Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Selezionare la casella di controllo Associazione a thread abilitata per creare associazioni tra connessioni e thread.</p>
<p>Quando un thread richiede un'altra connessione, pu&ograve; riutilizzare la connessione gi&agrave; associata allo stesso, senza provocare il sovraccarico per ottenere una connessione aggiuntiva dal pool. Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Selezionare la casella di controllo Corrispondenza connessioni abilitata per abilitare la corrispondenza tra connessioni per il pool.</p>
<p>Se l'opzione &egrave; abilitata, la connessione selezionata dal pool dovr&agrave; corrispondere a connessioni provviste di determinate credenziali. L'opzione deve essere abilitata se il connection pool viene utilizzato da applicazioni provviste di pi&ugrave; credenziali utente. L'opzione pu&ograve; essere disabilitata se l'amministratore &egrave; certo che le connessioni del pool saranno sempre omogenee e che una connessione ottenuta dal pool non dovr&agrave; corrispondere all'adattatore di risorsa. Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Nel campo Utilizzo max connessioni, digitare il numero di volte in cui una connessione deve essere riutilizzata dal pool.</p>
<p>Una volta che una connessione viene riutilizzata per il numero di volte specificato, viene chiusa. Limitando il numero di riutilizzi di una connessione, &egrave; possibile evitare perdite di istruzioni nel caso in cui un'applicazione non chiuda le istruzioni. Impostare il valore su 0 per disabilitare l'attributo. Il valore predefinito &egrave; 0.</p>
</li>
<li>
<p>Selezionare la casella di controllo Convalida della connessione necessaria per abilitare la convalida della connessione.</p>
<p>La convalida della connessione consente la riconnessione del server in caso di interruzione.</p>
</li>
<li>
<p>Dall'elenco a discesa Metodo di convalida, selezionare un metodo di convalida.</p>
<p>GlassFish Server pu&ograve; convalidare le connessioni database nei seguenti modi.</p>
<dl>
<dt><code>auto-commit</code> e <code>metadata</code></dt>
<dd>
<p>GlassFish Server convalida una connessione chiamando i metodi <code>con.getAutoCommit</code> e <code>con.getMetaData</code>.</p>

<hr>
<p><b>Nota:</b></p>
Molti driver JDBC memorizzano i risultati di tali chiamate nella cache. Di conseguenza, &egrave; possibile che l'utilizzo delle chiamate non fornisca convalide affidabili. Verificare con il fornitore del driver se le chiamate vengono inserite o meno nella cache.
<hr>

</dd>
<dt><code>custom-validation</code></dt>
<dd>
<p>GlassFish Server utilizza un meccanismo di convalida definito dall'utente, specificato dalla classe di implementazione personalizzata nel campo Nome classe di convalida.</p>
</dd>
<dt><code>table</code></dt>
<dd>
<p>L'applicazione effettua ricerche nella tabella database specificata. La tabella deve esistere ed essere accessibile, ma non richiede righe. Evitare di utilizzare una tabella esistente con un numero elevato di righe o una tabella a cui si accede di frequente.</p>
</dd>
</dl>
</li>
<li>
<p>Se dall'elenco a discesa Metodo di convalida &egrave; stata selezionata l'opzione <code>table</code>, digitare il nome della tabella del database o selezionarlo nell'elenco a discesa Nome tabella.</p>
</li>
<li>
<p>Se si &egrave; selezionato <code>custom-validation</code> nell'elenco a discesa Metodo di convalida, digitare il nome della classe di implementazione di convalida o selezionarlo nell'elenco a discesa Nome classe di convalida.</p>
<p>Il nome classe fornito deve risultare accessibile per GlassFish Server. La classe specificata deve implementare l'interfaccia <code>org.glassfish.api.jdbc.ConnectionValidation</code>.</p>
</li>
<li>
<p>Selezionare la casella di controllo In caso di qualsiasi errore: Chiudi tutte le connessioni per far s&igrave; che il server chiuda e ripristini tutte le connessioni del pool nel caso di un errore relativo a una singola connessione.</p>
<p>Se l'opzione &egrave; disabilitata, le singole connessioni vengono ristabilite soltanto quando vengono utilizzate. Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Selezionare la casella di controllo Consenti chiamanti non componenti abilitato per far s&igrave; che il pool possa essere utilizzato da chiamanti diversi dai componenti, quali filtri servlet e persistence manager di terze parti.</p>
<p>Le connessioni ottenute da chiamanti diversi dai componenti non vengono chiuse automaticamente dal contenitore al termine di una transazione. Devono essere chiuse esplicitamente dal chiamante. Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Fare clic sul pulsante Flush della scheda Generale per scaricare tutte le connessioni dal pool.</p>
<p>Se si fa clic sul pulsante Flush vengono eliminate le connessioni esistenti, ricreate le connessioni stabilite per il pool e ripristinate le dimensioni minime e iniziali del pool.</p>
</li>
<li>
<p>Fare clic su Salva.</p>

<hr>
<p><b>Suggerimento:</b></p>
Per tornare alle impostazioni predefinite, fare clic sul pulsante Carica impostazioni predefinite, quindi su Salva.
<hr>

</li>
</ol>
<a id="sthref20" name="sthref20"></a>
<h5>Vedere anche</h5>
<ul>
<li>
<p><a href="task-setdbaccess.html">Impostare l'accesso al database</a></p>
</li>
<li>
<p><a href="task-integratejdbcdriver.html">Integrare un driver JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcenew.html">Creare una risorsa JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcesedit.html">Modificare una risorsa JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcetargets.html">Modificare le destinazioni di una risorsa JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcesdelete.html">Eliminare una risorsa JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpoolnew.html">Creare un connection pool JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpooledit.html">Modificare le impostazioni generali dei connection pool JDBC</a></p>
</li>
<li>
<p><a href="task-verifyconnpoolsettings.html">Verificare le impostazioni del connection pool</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpoolproperty.html">Modificare le propriet&agrave; del connection pool JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpooldelete.html">Eliminare un connection pool JDBC</a></p>
</li>
</ul>


<small>Copyright &#169; 2005, 2012, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">Legal Notices</a></small>
