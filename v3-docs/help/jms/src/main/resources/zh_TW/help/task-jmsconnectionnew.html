<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-jmsconnectionnew"></a><h4>建立 JMS 連線工廠資源</h4><a name="indexterm-1"></a><a name="indexterm-2"></a><p>當您建立 JMS 連線工廠時，GlassFish Server 會針對連線工廠建立連接器連線池和連接器資源。您可以在 [連接器] 節點下檢視這些物件。</p>

<ol>
<li><b>在瀏覽樹狀結構中，展開 [資源] 節點。</b></li>
<li><b>在 [資源] 節點下，展開 [JMS 資源] 節點。</b></li>
<li><b>在 [JMS 資源] 節點下，選取 [JMS 連線工廠] 節點。</b><p>將開啟 [JMS 連線工廠] 頁面。</p></li>
<li><b>在 [JMS 連線工廠] 頁面上，按一下 [新建]。</b><p>將顯示 [新建 JMS 連線工廠] 頁面。</p></li>
<li><b>在 [池名稱] 欄位中，鍵入連線工廠的唯一名稱。 </b><p>GlassFish Server 會將連線工廠的 JNDI 名稱設為此值。</p></li>
<li><b>從 [資源類型] 下拉式清單中，選擇 [<tt>javax.jms.ConnectionFactory</tt>]、[<tt>javax.jms.QueueConnectionFactory</tt>] 或 [<tt>javax.jms.TopicConnectionFactory</tt>]。</b></li>
<li><b>在 [說明] 欄位中，鍵入連線工廠的說明。</b></li>
<li><b>選取 [啟用狀態] 核取方塊以在執行階段啟用該資源。</b><p>此選項預設為啟用。</p></li>
<li><b>在 [池的初始大小和最小大小] 欄位中，指定池中的最小連線數目。</b><p>預設值為 8。</p></li>
<li><b>在 [池的最大大小] 欄位中，指定池中的最大連線數目。</b><p>預設值為 32。</p></li>
<li><b>在 [池設定大小數量] 欄位中，指定池的閒置逾時過期時要移除的連線數目。</b><p>預設值為 2。</p></li>
<li><b>在 [閒置逾時] 欄位中，指定連線可以在池中閒置的最長時間 (以秒為單位)。</b><p>預設值為 300。</p></li>
<li><b>在 [最大等待時間] 欄位中，指定請求連線的應用程式在連線逾時前等待的時間。</b><p>預設值為 60000。</p></li>
<li><b>選取 [一旦失敗便關閉所有連線] 核取方塊，可讓 GlassFish Server 在任何一個連線失敗時，關閉池中的所有連線並重新建立連線。</b><p>如果未選取此核取方塊，則僅在使用個別連線時才會重新建立這些連線。此選項預設為停用。</p></li>
<li><b>針對 JMS 連線工廠資源，選取 [作業事件支援] 的層級。</b><p>選取的值會以向下相容的形式覆寫資源配接卡中的作業事件支援屬性。</p><ul>
<li><b>為可用於涉及使用作業事件範圍內多個資源的作業事件的資源選取 [XATransaction] (JMS 資源配接卡的預設值)。</b><p>例如，作業事件可能涉及此資源加上 JDBC 資源、連接器資源或其他 JMS 連線工廠資源。該值具有最大的靈活性。配置為 XATransaction 的資源將參與兩階段的確定作業。</p></li>
<li><b>為可用於僅涉及使用作業事件範圍內一個資源的作業事件的資源，或用做涉及多個 XA 資源的分散式作業事件中最後一個代理程式的資源選取 [LocalTransaction]。</b><p>使用該值可以獲得更好的效能。配置為 LocalTransaction 的資源不會用於兩階段的確定作業。</p></li>
<li><b>為永不參與作業事件的資源選取 [NoTransaction]。</b><p>該設定在 JMS 應用程式中的使用有限。</p></li></ul></li>
<li><b>選取 [需要連線驗證] 核取方塊以啟用連線驗證。</b><p>若選取了此選項，指定連線給應用程式之前會先驗證。若資源的驗證失敗，則會銷毀該資源，然後建立並傳回新的資源。此選項預設為停用。</p></li>
<li>(可選擇) <b>在 [其他特性] 區段中，指定連線工廠的其他特性。</b><p>如需可用特性的相關資訊，請參閱<a href="ref-jmsconnectionproperties.html">JMS 連線工廠特有的特性</a>。</p><p>若要增加特性，請按一下 [增加特性] 按鈕。在出現的空白列中，於 [名稱] 欄位中鍵入特性名稱，然後在 [值] 欄位中鍵入特性值。</p></li>
<li><b>按一下 [確定]。</b></li></ol><h6>另請參閱</h6>
<ul><li><p><a href="task-jmsconnectionedit.html">編輯 JMS 連線工廠資源</a></p>

</li>
<li><p><a href="task-jmsconnectiondelete.html">刪除 JMS 連線工廠資源</a></p>

</li>
<li><p><a href="task-jmsdestinationnew.html">建立 JMS 目標資源</a></p>

</li>
<li><p><a href="task-jmsdestinationedit.html">編輯 JMS 目標資源</a></p>

</li>
<li><p><a href="task-jmsdestinationdelete.html">刪除 JMS 目標資源</a></p>

</li></ul>


<small>版權所有 &#169; 2010, Oracle 和 (或) 其關係公司。 保留一切權利。 <a href="docinfo.html">法律聲明</a></small>
