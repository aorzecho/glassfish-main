<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-jmsconnectionnew"></a><h4>JMS 接続ファクトリリソースを作成する</h4><a name="indexterm-1"></a><a name="indexterm-2"></a><p>JMS 接続ファクトリを作成するときに、GlassFish サーバー は接続ファクトリのコネクタ接続プールとコネクタリソースを作成します。これらのオブジェクトは「コネクタ」ノードに表示されます。</p>

<ol>
<li><b>ナビゲーションツリーで、「リソース」ノードを展開します。</b></li>
<li><b>「リソース」ノードで、「JMS リソース」ノードを展開します。</b></li>
<li><b>「JMS リソース」ノードで、「JMS 接続ファクトリ」ノードを選択します。</b><p>「JMS 接続ファクトリ」ページが開きます。</p></li>
<li><b>「JMS 接続ファクトリ」ページで、「新規」をクリックします。</b><p>「新しい JMS 接続ファクトリ」ページが開きます。</p></li>
<li><b>「プール名」フィールドに、接続ファクトリの一意の名前を入力します。 </b><p>この値には、接続ファクトリの JNDI 名が設定されます。</p></li>
<li><b>「リソースタイプ」ドロップダウンリストから、<tt>javax.jms.ConnectionFactory</tt>、<tt>javax.jms.QueueConnectionFactory</tt>、または<tt>javax.jms.TopicConnectionFactory</tt> のいずれかを選択します。</b></li>
<li><b>「説明」フィールドに、接続ファクトリの説明を入力します。</b></li>
<li><b>実行時にリソースを有効にするには、「状態を有効」チェックボックスを選択します。</b><p>このオプションはデフォルトで有効になっています。</p></li>
<li><b>「初期および最小プールサイズ」フィールドに、プールの最小接続数を指定します。</b><p>デフォルト値は 8 です。</p></li>
<li><b>「最大プールサイズ」フィールドに、プールの最大接続数を指定します。</b><p>デフォルト値は 32 です。</p></li>
<li><b>「プールサイズ変更量」フィールドに、プールのアイドルタイムアウトに達したときに削除する接続の数を指定します。</b><p>デフォルト値は 2 です。</p></li>
<li><b>「アイドルタイムアウト」フィールドに、接続がプール内でアイドル状態を維持できる最大時間を秒単位で指定します。</b><p>デフォルト値は 300 です。</p></li>
<li><b>「最大待ち時間」フィールドに、接続を要求しているアプリケーションが接続タイムアウトになるまでの最大時間を指定します。</b><p>デフォルト値は 60000 です。</p></li>
<li><b>「すべての障害で」の「すべての接続を閉じる」チェックボックスを選択して、1 つの接続で障害が発生したときに、GlassFish サーバー がプール内のすべての接続を閉じたあと、これらを再確立するようにします。</b><p>チェックボックスを選択しない場合は、使用されるときにだけ個々の接続が再確立されます。このオプションは、デフォルトでは無効になっています。</p></li>
<li><b>JMS 接続ファクトリリソースの、「トランザクションサポート」のレベルを選択します。</b><p>選択した値は、下位互換性を維持するように、リソースアダプタのトランザクションサポート属性を上書きします。</p><ul>
<li><b>トランザクションスコープ内で複数のリソースの使用が必要となるトランザクションでリソースを使用可能にするには、「XATransaction」 (JMS リソースアダプタのデフォルト値) を選択します。</b><p>たとえば、トランザクションではこのリソースのほかに、JDBC リソース、コネクタリソース、その他の JMS 接続ファクトリリソースも必要な場合があります。この値により、最高の柔軟性が提供されます。LocalTransaction として設定されるリソースは、2 フェーズコミットオペレーションに使用されません。</p></li>
<li><b>トランザクションスコープ内でリソースを 1 つだけ必要とするトランザクションで使用可能なリソース、または複数の XA リソースが必要となる分散トランザクションの直前のエージェントとして使用可能なリソースでは、LocalTransaction を選択します。</b><p>この値により、大幅なパフォーマンスの向上が得られます。LocalTransaction として設定されるリソースは、2 フェーズコミットオペレーションに関与しません。</p></li>
<li><b>トランザクションに関与しないリソースでは、NoTransaction を選択します。</b><p>この設定はJMS アプリケーションでの使用に限られます。</p></li></ul></li>
<li><b>「接続検証」の「必要」チェックボックスを選択して、接続検証を有効にします。</b><p>このオプションを選択すると、接続はアプリケーションに提供される前に検証されます。リソースの検証に失敗した場合は、リソースが破棄され、新しいリソースが作成されて返されます。このオプションは、デフォルトでは無効になっています。</p></li>
<li>(省略可能) <b>「追加プロパティー」セクションで、接続ファクトリの追加プロパティーを指定します。</b><p>使用可能なプロパティーの詳細については、<a href="ref-jmsconnectionproperties.html">「JMS 接続ファクトリに固有のプロパティー」</a>を参照してください。</p><p>プロパティーを追加するには、「プロパティーを追加」ボタンをクリックします。表示される空白行で、「名前」フィールドにプロパティー名を入力し、「値」フィールドにプロパティー値を入力します。</p></li>
<li><b>「了解」をクリックします。</b></li></ol><h6>参照</h6>
<ul><li><p><a href="task-jmsconnectionedit.html">「JMS 接続ファクトリリソースを編集する」</a></p>

</li>
<li><p><a href="task-jmsconnectiondelete.html">「JMS 接続ファクトリリソースを削除する」</a></p>

</li>
<li><p><a href="task-jmsdestinationnew.html">「JMS 送信先リソースを作成する」</a></p>

</li>
<li><p><a href="task-jmsdestinationedit.html">「JMS 送信先リソースを編集する」</a></p>

</li>
<li><p><a href="task-jmsdestinationdelete.html">「JMS 送信先リソースを削除する」</a></p>

</li></ul>


<small>Copyright &#169; 2010, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">著作権について</a></small>
