<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-jmsservice"></a><h4>JMS サービスを設定する</h4><a name="indexterm-13"></a><p>すべての JMS 接続で使用する設定を変更するには、「JMS サービス」ページを使用します。</p>

<p>JMS サービスの設定については、<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2418&id=beaob"><i>『Oracle GlassFish Server 3.1 Application Development Guide』</i>の第 17 章「Using the Java Message Service」</a>を参照してください。</p>

<ol>
<li><b>ナビゲーションツリーで、「設定」ノードを展開します。</b></li>
<li><b>「設定」ノードで、「Java メッセージサービス」ノードを選択します。</b><p>「JMS サービス」ページが開きます。</p></li>
<li><b>「タイプ」ドロップダウンリストから、次のとおり選択します。</b><ul>
<li><b>ローカルホストの JMS サービスにアクセスする場合は、「EMBEDDED」を選択します。</b><p>JMS サービスは GlassFish サーバー と同じ JVM マシンで起動されます。遅延初期化によって、GlassFish サーバー の起動時ではなく、JMS サービスに最初にアクセスしたときにデフォルトの埋め込みブローカを起動します。JMS サービスのデフォルトのタイプです。</p></li>
<li><b>ローカルホストの JMS サービスにアクセスする場合は、「LOCAL」を選択します。</b><p>JMS サービスは GlassFish サーバー とともに起動されます。</p></li>
<li><b>別のシステムの JMS サービスにアクセスする場合は、「REMOTE」を選択します。</b><p>REMOTE を選択すると、JMS サービスは次のサーバーの起動時に GlassFish サーバー によって起動されません。JMS サービスは Message Queue によって起動および管理されるため、Message Queue ブローカを別に起動する必要があります。ブローカの起動については、<a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2438&id=aeoby"><i>『Oracle GlassFish Message Queue 4.5 Administration Guide』</i>の「Starting Brokers」</a>を参照してください。この値を選択し、かつリモートホストを使用している場合は、<a href="task-jmshostedit.html">「JMS ホストを編集する」</a>で説明する手順に従って、リモートホストの名前を指定します。</p></li></ul></li>
<li><b>「起動タイムアウト」フィールドに、起動が中止されるまでに、GlassFish サーバー が JMS サービスの起動を待機する時間を秒単位で入力します。</b><p>処理速度の遅いシステムやオーバーロードしたシステムでは、デフォルト値よりも大きくします。デフォルト値は 60 です。</p></li>
<li><b>「起動引数」フィールドに、JMS サービスの起動をカスタマイズする引数を入力します。</b><p><tt><i>as-install-parent</i>/mq/bin/imqbrokerd</tt> コマンドで使用できる引数を使用します。</p></li>
<li><b>「再接続」の「有効」チェックボックスを選択して、接続が失われたときに JMS サービスがメッセージサーバーまたは AddressList で指定したアドレスのリストに再接続を試みるようにします。</b><p>このオプションはデフォルトで有効になっています。</p></li>
<li><b>「再接続の間隔」フィールドに、再接続を試行する間隔を秒数で入力します。</b><p>この間隔は、AddressList で指定した各アドレスおよびリストの次のアドレスへの試行に適用されます。間隔が短すぎると、ブローカにリカバリする時間が与えられません。間隔が長すぎると、再接続が許容できない遅延を示す場合があります。デフォルト値は 5 秒です。</p></li>
<li><b>「再接続の試行」フィールドで、クライアントランタイムがリストの次のアドレスを試行する前に、AddressList に指定した各アドレスへの接続 (または再接続) を試行する回数を入力します。</b><p>値 -1 は、再試行回数が無制限であることを示します。クライアントランタイムは、接続が成功するまで最初のアドレスへの接続を試みます。デフォルト値は 3 です。</p></li>
<li><b>「デフォルト JMS ホスト」ドロップダウンから、デフォルト JMS ホストの名前を選択します。</b><p>デフォルト値は <tt>default_JMS_host</tt> です。</p></li>
<li><b>「アドレスリストの動作」ドロップダウンリストから、接続を試行する順序を選択します。</b><ul>
<li><b><tt>random</tt> は、AddressList からランダムな順序でアドレスを選択します。</b><p>多数のクライアントが同じ接続ファクトリを使用して接続を試行する場合は、すべてのクライアントが同じアドレスに接続しないように <tt>random</tt> を指定します。このオプションがデフォルトです。</p></li>
<li><b><tt>priority</tt> は、再接続が常に AddressList に指定した最初のサーバーのアドレスへの接続を試行し、最初のブローカが利用できない場合だけにほかのアドレスを使用することを意味します。</b></li></ul></li>
<li><b>「アドレスリストの反復」フィールドで、接続の確立または再確立のために、AddressList を介して JMS サービスが反復する回数を入力します。</b><p>値 -1 は試行回数が無制限であることを示します。デフォルト値は 3 です。</p></li>
<li><b>デフォルト以外のスキームまたはサービスを使用する場合は、「MQ スキーム」および「MQ サービス」フィールドに、Message Queue アドレススキーム名と Message Queue 接続サービス名を入力します。 </b><p>構文については、<a href="ref-mqschemeservice.html">「MQ スキームと MQ サービスのアドレスの構文」</a>を参照してください。</p></li>
<li>(省略可能) <b>「追加プロパティー」領域で、JMS サービスの追加プロパティーを指定します。</b><p>使用可能なプロパティーの詳細については、<a href="ref-jmsservice-additional-props.html">「JMS サービスに固有のプロパティー」</a>を参照してください。</p><ul>
<li><b>プロパティーを追加するには、「プロパティーを追加」ボタンをクリックします。表示される空白行で、「名前」フィールドにプロパティー名を入力し、「値」フィールドにプロパティー値を入力します。</b></li>
<li><b>プロパティーを変更するには、そのプロパティーの「値」フィールドを編集します。</b></li>
<li><b>プロパティーを削除するには、削除するプロパティーの「名前」フィールドの左側にあるチェックボックスを選択し、「プロパティを削除」ボタンをクリックします。</b></li></ul></li>
<li><b>「Ping」をクリックして、JMS サービスがデフォルトの JMS ホストで動作していることを確認します。</b><p>JMS サービスが動作している場合は、ping の成功を示すメッセージが表示されます。</p></li>
<li><b>「保存」をクリックします。</b>
<hr><p><b>ヒント - </b>デフォルト設定に戻すには、「デフォルトを読込み」ボタンをクリックし、「保存」を保存します。</p>


<hr>
</li></ol><h6>参考<br>リモートサーバーへのアクセス</h6><p>プロバイダとホストをリモートシステムに変更すると、すべての JMS アプリケーションがリモートサーバーで実行するようになります。ローカルサーバーと 1 つまたは複数のリモートサーバーを使用するには、リモートサーバーにアクセスする接続を作成する <tt>AddressList</tt> プロパティーを使用して、接続ファクトリリソースを作成します。<a href="task-jmsconnectionnew.html">「JMS 接続ファクトリリソースを作成する」</a>を参照してください。</p>

同機能を持つ asadmin コマンド</h6><p><tt>jms-ping</tt></p>

<h6>参照</h6>
<ul><li><p><a href="task-jmshostnew.html">「JMS ホストを作成する」</a></p>

</li>
<li><p><a href="task-jmshostedit.html">「JMS ホストを編集する」</a></p>

</li>
<li><p><a href="task-jmshostdelete.html">「JMS ホストを削除する」</a></p>

</li>
<li><p><a href="task-jmsphysicaldestnew.html">「JMS 物理送信先を作成する」</a></p>

</li>
<li><p><a href="task-jmsphysicaldestedit.html">「JMS 物理送信先を編集する」</a></p>

</li>
<li><p><a href="task-jmsphysicaldestdelete.html">「JMS 物理送信先を削除する」</a></p>

</li>
<li><p><a href="task-jmsflushmessages.html">「JMS 物理送信先からメッセージを削除する」</a></p>

</li>
<li><p><a href="task-jmsphysicaldeststats.html">「JMS 物理送信先の統計情報を表示する」</a></p>

</li></ul>


<small>Copyright &#169; 2010, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">著作権について</a></small>
