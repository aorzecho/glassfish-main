<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->
<a name="ref-nodenew"></a><h4>新建节点</h4>
<a name="indexterm-197"></a><p>使用&#8220;新建节点&#8221;页面可创建 GlassFish Server 节点。节点代表装有 GlassFish Server 软件的主机。对于 GlassFish Server 实例驻留的每个主机，必须存在一个对应的节点。 </p>

<p>&#8220;新建节点&#8221;页面包含以下选项：</p>

<dl><dt>名称</dt>
<dd><p>节点的名称。</p>

<p>名称必须满足以下要求：</p>


<ul><li><p>名称开头必须是字母、数字或下划线。</p>

</li>
<li><p>名称只能包含以下字符：</p>


<ul><li><p>小写字母</p>

</li>
<li><p>大写字母</p>

</li>
<li><p>数字</p>

</li>
<li><p>连字符</p>

</li>
<li><p>句点</p>

</li>
<li><p>下划线</p>

</li></ul>
</li>
<li><p>该名称在域中必须是唯一的，不得是另一个节点、群集、命名配置或 GlassFish Server 实例的名称。</p>

</li>
<li><p>名称不得是<tt>域</tt>、<tt>服务器</tt>或 GlassFish Server 保留的任何其他关键字。</p>

</li></ul>
</dd>
<dt>类型</dt>
<dd><p>用于指定节点类型的下拉式列表，节点类型可以为以下类型之一：</p>

<dl><dt>SSH</dt>
<dd><p>节点支持通过安全 shell (secure shell, SSH) 进行通信。</p>

</dd>
<dt>CONFIG</dt>
<dd><p>节点不支持远程通信。如果选择 CONFIG，则不会显示任何 SSH 配置选项并且会清除&#8220;安装目录&#8221;字段。</p>

</dd>
</dl>
</dd>
<dt>节点主机</dt>
<dd><p>节点代表的主机的名称。该字段是否是必需字段取决于节点类型：</p>


<ul><li><p>如果节点类型为 CONFIG，可以省略主机名。可在创建驻留在节点上的实例时确定该主机名。</p>

</li>
<li><p>如果节点类型为 SSH，必须指定主机名。否则，会出现错误。</p>

</li></ul>
</dd>
<dt>节点目录</dt>
<dd><p>用于包含节点上创建的 GlassFish Server 实例的目录路径。如果指定相对路径，则该路径相对于 <i>as-install</i> 目录。</p>

<p>默认值取决于节点类型：</p>


<ul><li><p>如果节点类型为 CONFIG，则在域管理服务器 (domain administration server, DAS) 配置中不会为节点指定任何实例目录。可在创建驻留在节点上的实例时确定节点目录。</p>

</li>
<li><p>如果节点类型为 SSH，则默认值为 <tt></tt><i>as-install</i><tt>/nodes</tt>，其中 <i>as-install</i> 是主机上 GlassFish Server 软件的基本安装目录。</p>

</li></ul>
</dd>
<dt>安装目录</dt>
<dd><p>主机上 GlassFish Server 软件的基本安装目录的父目录的完整路径，例如 <tt>/export/glassfish3</tt>。</p>

<p>默认值取决于节点类型：</p>


<ul><li><p>如果节点类型为 CONFIG，则在 DAS 配置中不会为节点指定任何安装目录。可在创建驻留在节点上的实例时确定安装目录。</p>

</li>
<li><p>如果节点类型为 SSH，则默认值是 DAS 中 GlassFish Server 软件的默认基本安装目录的父目录。仅当 GlassFish Server 安装在所有主机上的同一个位置时，此默认值才有用。</p>

</li></ul>
</dd>
<dt>强制</dt>
<dd><p>如果选择&#8220;已启用&#8221;选项，则即使节点参数验证失败，也会在 DAS 配置中创建节点。要验证节点的参数，DAS 必须能通过 SSH 联系节点的主机。</p>

</dd>
<dt>SSH 端口</dt>
<dd><p>此节点的主机进行 SSH 连接使用的端口。默认值为 22。如果将&#8220;节点主机&#8221;选项设置为 <tt>localhost-<i>domain</i></tt>，将忽略&#8220;SSH 端口&#8221;选项。</p>

</dd>
<dt>SSH 用户名</dt>
<dd><p>该节点主机上要运行通过 SSH 连接到主机的进程的用户。默认值为正在运行 DAS 进程的用户。为了确保 DAS 可以读取此用户的 SSH 专用密钥文件，请指定正在运行 DAS 进程的用户。如果将&#8220;节点主机&#8221;选项设置为 <tt>localhost-<i>domain</i></tt>，将忽略&#8220;用户名&#8221;选项。</p>

</dd>
<dt>SSH 用户验证</dt>
<dd><p>用于指定 SSH 用户登录到该节点主机时如何对其进行验证的下拉式列表。可能的验证方法如下：</p>

<dl><dt>密钥文件</dt>
<dd><p>SSH 用户通过 SSH 私钥文件进行验证。如果选择该选项，请在&#8220;密钥文件&#8221;字段中指定该文件的绝对路径。</p>

</dd>
<dt>密码</dt>
<dd><p>SSH 用户通过存储在 DAS 配置中的密码进行验证。</p>


<hr><p><b>注意 - </b>此密码以明文形式存储在 DAS 配置中。为了增强安全性，请使用密钥文件或密码别名。</p>


<hr>
<p>如果选择该选项，将激活&#8220;SSH 密码&#8221;字段和&#8220;确认 SSH 密码&#8221;字段，以便您提供密码。</p>

</dd>
<dt>密码别名</dt>
<dd><p>SSH 用户通过密码别名进行验证。如果选择该选项，请从&#8220;密码别名&#8221;下拉式列表中选择相应密码别名。</p>

</dd>
</dl>
</dd>
<dt>SSH 密码</dt>
<dd><p>SSH 用户登录到该节点主机时要使用的密码。</p>

</dd>
<dt>确认 SSH 密码</dt>
<dd><p>确认 SSH 用户登录到该节点主机时要使用的密码。该字段的内容必须与&#8220;SSH 密码&#8221;字段的内容完全一致。</p>

</dd>
<dt>密码别名</dt>
<dd><p>为该域定义的密码别名的下拉式列表。</p>

</dd>
<dt>密钥文件</dt>
<dd><p>&#8220;用户名&#8221;选项指定的用户的 SSH 专用密钥文件的绝对路径。此文件用于向节点的主机上的 <tt>sshd</tt> 守护进程进行验证。</p>


<hr><p><b>注 - </b>GlassFish Server 还支持通过密码文件中的 <tt>AS_ADMIN_SSHPASSWORD</tt> 条目进行密码验证。密码文件在 <a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=asadmin-1m"><tt>asadmin</tt>(1M)</a> 实用程序的 <tt>--paswordfile</tt> 选项中指定。</p>


<hr>
<p>如果 SSH 专用密钥文件受口令短语保护，则密码文件必须包含 <tt>AS_ADMIN_SSHKEYPASSPHRASE</tt> 条目。</p>

<p>密钥文件的路径必须是 DAS 可以访问的路径，密钥文件必须是 DAS 可读的文件。</p>

<p>默认值为用户的 <tt>.ssh</tt> 目录中的密钥文件。如果找到多个密钥文件，GlassFish Server 遵循以下先后顺序：</p>


<ol><li><p><tt>id_rsa</tt></p>

</li>
<li><p><tt>id_dsa</tt></p>

</li>
<li><p><tt>identity</tt></p>

</li></ol>
</dd>
</dl>
<h5>相关任务</h5>

<ul><li><p><a href="task-createnode.html">创建节点</a></p>

</li></ul>
<h5>等效的 <tt>asadmin</tt> 子命令</h5>

<ul><li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=create-node-config-1"><tt>create-node-config</tt>(1)</a></p>

</li>
<li><p><a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=create-node-ssh-1"><tt>create-node-ssh</tt>(1)</a></p>

</li></ul>


<small>版权所有 &#169; 2010, Oracle 和/或其附属公司。 保留所有权利。 <a href="docinfo.html">法律声明</a></small>
