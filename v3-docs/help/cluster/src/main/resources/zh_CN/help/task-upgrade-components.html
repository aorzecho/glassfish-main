<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-upgrade-components"></a><h4>升级组件而不使服务受到任何损失</h4><a name="indexterm-41"></a><a name="indexterm-42"></a><a name="indexterm-43"></a><a name="indexterm-44"></a><p>在群集环境中，滚动升级能够以服务和会话损失最少的方式重新部署应用程序。会话是可复制的任何工件，例如：</p>


<ul><li><p><tt>HttpSession</tt></p>

</li>
<li><p><tt>SingleSignOn</tt></p>

</li>
<li><p><tt>ServletTimer</tt></p>

</li>
<li><p><tt>DialogFragment</tt></p>

</li>
<li><p>有状态会话 Bean</p>

</li></ul>
<p>可以使用负载平衡器和多个群集来升级 GlassFish Server 中的组件，而不损失任何服务。例如，组件可以是 JVM 计算机、GlassFish Server 软件或 Web 应用程序。</p>

<p>滚动升级可在轻度到中度负载下进行。对于每个 GlassFish Server 实例，该过程需要大约 10-15 分钟。</p>

<p>升级过程中，应用程序必须兼容。在某些实例运行旧版本而其他实例运行新版本的过渡期间，应用程序必须能够正常工作。旧版本和新版本必须具有相同形状的可序列化类，用于形成存储于会话中的对象图，例如非瞬态实例变量。如果这些类的形状必须发生变化，应用程序开发者必须确保所进行的序列化行为是正确的。如果升级过程中应用程序不兼容，必须停止群集以进行完全重新部署。</p>

<p>如果应用程序升级包含对应用程序数据库结构的更改，则这种方法不可能实现。</p>


<hr><p><b>注意 - </b>为防范会话故障转移时的版本不匹配风险，请同时升级群集中的所有实例。否则，会话可能故障转移至运行不同版本组件的实例。</p>


<hr>
<p>请在每个群集上单独执行此任务。对于群集中的实例，群集可作为会话故障转移的安全边界。一个群集中的会话永远都无法故障转移至另一个群集中的会话。因此，版本不匹配的风险可得以避免。</p>

<ol>
<li><b><a href="task-stop-cluster.html">停止群集</a>。</b></li>
<li><b>升级该群集中的组件。</b></li>
<li><b><a href="task-start-cluster.html">启动群集</a>。</b></li></ol><h6>另请参见</h6>
<ul><li><p><a href="task-create-cluster.html">创建群集</a></p>

</li>
<li><p><a href="task-delete-cluster.html">删除群集</a></p>

</li>
<li><p><a href="task-availabilityservice.html">配置群集的可用性设置</a></p>

</li>
<li><p><a href="task-start-cluster.html">启动群集</a></p>

</li>
<li><p><a href="task-stop-cluster.html">停止群集</a></p>

</li>
<li><p><a href="task-modify-cluster-config.html">修改群集的配置</a></p>

</li>
<li><p><a href="task-cluster-app-deploy.html">将应用程序部署到群集</a></p>

</li>
<li><p><a href="task-cluster-app-list.html">列出已部署到群集的应用程序</a></p>

</li>
<li><p><a href="task-cluster-app-undeploy.html">从群集中取消部署应用程序</a></p>

</li>
<li><p><a href="task-cluster-app-remove.html">从群集中删除应用程序</a></p>

</li>
<li><p><a href="task-cluster-app-edit.html">编辑已部署到群集的应用程序</a></p>

</li>
<li><p><a href="task-cluster-app-enable-disable.html">启用或禁用已部署到群集的应用程序</a></p>

</li>
<li><p><a href="task-cluster-app-lb-enable-disable.html">启用或禁用已部署到群集的应用程序的负载平衡</a></p>

</li>
<li><p><a href="task-cluster-resource-create.html">为群集创建资源</a></p>

</li>
<li><p><a href="task-cluster-resource-display.html">列出群集的资源</a></p>

</li>
<li><p><a href="task-cluster-resource-enable-disable.html">全局启用或禁用资源</a></p>

</li>
<li><p><a href="task-cluster-resource-edit.html">编辑群集的资源</a></p>

</li></ul>


<small>版权所有 &#169; 2010, Oracle 和/或其附属公司。 保留所有权利。 <a href="docinfo.html">法律声明</a></small>
