<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009, 2010 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-upgrade-components"></a><h4>升級元件而不會使服務受到損失</h4><a name="indexterm-41"></a><a name="indexterm-42"></a><a name="indexterm-43"></a><a name="indexterm-44"></a><p>在叢集環境中，輪流升級可在損失最少服務與階段作業的狀況下，重新部署應用程式。階段作業是任何可以重複的工件，例如：</p>


<ul><li><p><tt>HttpSession</tt></p>

</li>
<li><p><tt>SingleSignOn</tt></p>

</li>
<li><p><tt>ServletTimer</tt></p>

</li>
<li><p><tt>DialogFragment</tt></p>

</li>
<li><p>有狀態的階段作業 Bean</p>

</li></ul>
<p>在 GlassFish Server 中，您可以使用負載平衡器和多個叢集來升級元件，而不使服務受到任何損失。例如，元件可以是 JVM 機器、GlassFish Server 軟體或 Web 應用程式。</p>

<p>輪流升級可在負載較小或適中時進行。對於每個 GlassFish Server 實例，該程序需時約 10-15 分鐘。</p>

<p>應用程式在升級過程中必須相容。因為在轉換期間，某些實例會執行舊版應用程式，而某些實例會執行新版應用程式，所以這些應用程式必須能夠正確運作。舊版和新版應用程式必須具有相同形式的可串列化類別，而這些可串列化類別是用來形成階段作業中儲存的物件圖形 (例如非瞬時實例變數)。如果必須變更這些類別的形式，應用程式開發人員就必須確保會發生正確的串列化行為。如果應用程式在升級過程中不相容，就必須停止叢集以進行完整的重新部署。</p>

<p>如果應用程式升級涉及變更應用程式資料庫模式，則無法使用這種方法。</p>


<hr><p><b>注意 - </b>為了防止階段作業容錯移轉時發生版本不相符的風險，請同時升級叢集中的所有實例。否則，階段作業可能會容錯移轉至執行不同元件版本的實例。</p>


<hr>
<p>請對每個叢集分別執行此作業。叢集可做為叢集中實例的階段作業容錯移轉安全界限。某個叢集內的階段作業絕對不會容錯移轉至另一個叢集中的階段作業。從而避免了版本不相符的風險。</p>

<ol>
<li><b><a href="task-stop-cluster.html">停止叢集</a>。</b></li>
<li><b>升級該叢集中的元件。</b></li>
<li><b><a href="task-start-cluster.html">啟動叢集</a>。</b></li></ol><h6>另請參閱</h6>
<ul><li><p><a href="task-create-cluster.html">建立叢集</a></p>

</li>
<li><p><a href="task-delete-cluster.html">刪除叢集</a></p>

</li>
<li><p><a href="task-availabilityservice.html">配置叢集的可用性設定</a></p>

</li>
<li><p><a href="task-start-cluster.html">啟動叢集</a></p>

</li>
<li><p><a href="task-stop-cluster.html">停止叢集</a></p>

</li>
<li><p><a href="task-modify-cluster-config.html">修改叢集的配置</a></p>

</li>
<li><p><a href="task-cluster-app-deploy.html">將應用程式部署至叢集</a></p>

</li>
<li><p><a href="task-cluster-app-list.html">列出已部署至叢集的應用程式</a></p>

</li>
<li><p><a href="task-cluster-app-undeploy.html">取消部署叢集中的應用程式</a></p>

</li>
<li><p><a href="task-cluster-app-remove.html">移除叢集中的應用程式</a></p>

</li>
<li><p><a href="task-cluster-app-edit.html">編輯已部署至叢集的應用程式</a></p>

</li>
<li><p><a href="task-cluster-app-enable-disable.html">啟用或停用已部署至叢集的應用程式</a></p>

</li>
<li><p><a href="task-cluster-app-lb-enable-disable.html">啟用或停用已部署至叢集之應用程式的負載平衡</a></p>

</li>
<li><p><a href="task-cluster-resource-create.html">為叢集建立資源</a></p>

</li>
<li><p><a href="task-cluster-resource-display.html">列出叢集的資源</a></p>

</li>
<li><p><a href="task-cluster-resource-enable-disable.html">全域啟用或停用資源</a></p>

</li>
<li><p><a href="task-cluster-resource-edit.html">編輯叢集的資源</a></p>

</li></ul>


<small>版權所有 &#169; 2010, Oracle 和 (或) 其關係公司。 保留一切權利。 <a href="docinfo.html">法律聲明</a></small>
