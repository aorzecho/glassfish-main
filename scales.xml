<?xml version="1.0" encoding="iso-8859-1"?>

<project name="Mojarra Scales source integration" default="build" basedir=".">

    <!-- import build.xml for init target and inherited properties -->
    <import file="build.xml"/>

    <target name="build" depends="init">
        <antcall target="scales.build" />
    </target>

    <target name="scales.checkout" >
        <echo message="checkout Mojarra Scales from ${scales.hg.url}."/>
        <exec executable="hg" dir="${external.dir}" failonerror="true" >
            <arg line="clone" />
            <arg line="-r MOJARRA_SCALES_1_3_1"/>
            <arg line="${scales.hg.url}"/>
            <arg line="scales" />
        </exec>
    </target>
    <target name="scales.build" depends="scales.checkout" >
        <exec executable="mvn" dir="${external.dir}/scales" failonerror="true" >
            <arg line="-Dmaven.repo.local=${maven.repo.local}" />
            <arg line="-Dmaven.test.skip=true" />
            <arg line="install" />
        </exec>
    </target>
</project>