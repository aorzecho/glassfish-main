<?xml version="1.0" encoding="iso-8859-1"?>

<project name="Build HK2 source" default="build" basedir=".">

    <!-- import build.xml for init target and inherited properties -->
    <import file="build.xml"/>

    <target name="build" depends="init">
        <antcall target="hk2.build" />
    </target>
    <!--
        Checkout HK2 source and build
    -->
    <target name="hk2.project" >

    </target>	 
    <target name="hk2.checkout" >
        <echo message="checkout hk2 from ${hk2.svn.url}."/>
        <!-- checkout hk2 source -->
        <exec executable="svn" dir="${external.dir}" failonerror="true" >
	    <arg line="checkout" />
            <arg line="${hk2.svn.url}" />
            <arg line="hk2" />
	</exec>
    </target>
    <target name="hk2.build" depends="hk2.checkout" >
        <!-- build hk2 plugin -->
        <exec executable="mvn" dir="${external.dir}/hk2" failonerror="true" >
	    <arg line="-Dmaven.repo.local=${maven.repo.local}" />
            <arg line="-Prelease-phase1" />
            <arg line="install" />
	</exec>
        <!-- build hk2 source -->
        <exec executable="mvn" dir="${external.dir}/hk2" failonerror="true" >
	    <arg line="-Dmaven.repo.local=${maven.repo.local}" />
            <arg line="install" />
	</exec>
    </target>

</project>
