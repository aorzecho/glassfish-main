CREATE-AUTH-REALM(1)                                      CREATE-AUTH-REALM(1)

NOM
       create-auth-realm - ajoute le domaine d'authentification nommé

SYNOPSIS
           create-auth-realm --classname realm_class [--help] [--property(name=value)[:name=value]*]
           [--target target_name] auth_realm_name

DESCRIPTION
       La sous-commande create-auth-realm ajoute le domaine d'authentification
       nommé.

       Cette sous-commande est prise en charge en mode distant uniquement.

OPTIONS
       --help, -?
           Affiche le texte d'aide de la sous-commande.

       --target
           Indique la cible sur laquelle vous créez le domaine. Les valeurs
           valides sont

           server
               Crée le domaine sur l'instance de serveur par défaut. Ceci est
               la valeur par défaut.

           configuration_name
               Crée le domaine dans la configuration indiquée.

           cluster_name
               Crée le domaine sur toutes les instances de serveur dans le
               cluster indiqué.

           instance_name
               Crée le domaine sur une instance de serveur indiquée.

       --classname
           Classe Java qui implémente ce domaine. Il s'agit notamment de
           com.sun.enterprise.security.auth.realm.file.FileRealm,
           com.sun.enterprise.security.auth.realm.certificate.CertificateRealm,
           com.sun.enterprise.security.auth.realm.jdbc.JDBCRealm,
           com.sun.enterprise.security.auth.realm.ldap.LDAPRealm,
           com.sun.enterprise.security.auth.realm.ldap.PamRealm et
           com.sun.enterprise.security.auth.realm.solaris.SolarisRealm ou d'un
           domaine personnalisé.

       --property
           Paires nom d'attribut/valeur facultatives pour configurer le
           domaine d'authentification. Les domaines d'authentification
           requièrent des propriétés propres au fournisseur et qui varient en
           fonction de l'implémentation.

           Les propriétés suivantes sont communes à tous les domaines pris en
           charge, dont FileRealm, CertificateRealm, JDBCRealm, LDAPRealm,
           PamRealm et SolarisRealm.

           jaas-context
               Spécifie le contexte JAAS (Java Authentication and
               Authorization Service).

           assign-groups
               (Facultatif) Si cette propriété est définie, sa valeur est
               prise pour une liste de noms de groupes séparés par une
               virgule. Tous les clients présentant des certificats valides
               sont affectés à ces groupes pour les décisions d'autorisation
               dans le Web et les conteneurs EJB.

           En fonction de chaque domaine, vous pouvez spécifier les propriétés
           suivantes.

           ·   Vous pouvez spécifier les propriétés suivantes pour FileRealm :

               file
                   Indique le fichier qui contient les noms utilisateur, mots
                   de passe et noms de groupe. La valeur par défaut est
                   domain-dir/config/keyfile.

           ·   Vous pouvez spécifier les propriétés suivantes pour
               CertificateRealm :

               LoginModule
                   Spécifie le nom d'un LoginModule JAAS à utiliser pour
                   effectuer l'authentification. Pour utiliser un LoginModule
                   JAAS, vous devez d'abord créer une implémentation de
                   l'interface javax.security.auth.spi.LoginModule, puis
                   brancher le module à un jaas-context. Pour plus
                   d'informations, reportez-vous à "Custom Authentication of
                   Client Certificate in SSL Mutual Authentication" dans le
                   manuel Oracle GlassFish Server Security Guide.

           ·   Vous pouvez spécifier les propriétés suivantes pour JDBCRealm :

               datasource-jndi
                   Spécifie le jndi-name de la jdbc-resource pour cette base
                   de données.

               user-table
                   Spécifie le nom de la table d'utilisateurs dans la base de
                   données.

               user-name-column
                   Spécifie le nom de la colonne de noms utilisateur dans la
                   table d'utilisateurs de la base de données.

               password-column
                   Spécifie le nom de la colonne de mots de passe dans la
                   table d'utilisateurs de la base de données.

               group-table
                   Spécifie le nom de la table de groupes dans la base de
                   données.

               group-table
                   Spécifie la table de groupes pour un domaine
                   d'authentification de la classe JDBCRealm.

               group-name-column
                   Spécifie le nom de la colonne de nom de groupe dans la
                   table de groupes de la base de données.

               db-user
                   (Facultatif) Vous permet de spécifier le nom utilisateur de
                   base de données dans le domaine plutôt que le
                   jdbc-connection-pool. Cela empêche d'autres applications de
                   faire des recherches dans la base de données, d'obtenir une
                   connexion et de parcourir la table des utilisateurs. Par
                   défaut, la configuration jdbc-connection-pool est utilisée.

               db-password
                   (Facultatif) Vous permet de spécifier le mot de passe de
                   base de données dans le domaine plutôt que le
                   jdbc-connection-pool. Cela empêche d'autres applications de
                   faire des recherches dans la base de données, d'obtenir une
                   connexion et de parcourir la table des utilisateurs. Par
                   défaut, la configuration jdbc-connection-pool est utilisée.

               group-table
                   Spécifie le nom de la table de groupes dans la base de
                   données.

               digest-algorithm
                   (Facultatif) Spécifie l'algorithme de synthèse. La valeur
                   par défaut est SHA-256. Vous pouvez utiliser tout
                   algorithme pris en charge dans le JDK ou n'en utiliser
                   aucun.

                       Note
                       ┌──────────────────────────────────────────────────────────────────────────────────────────────────────┐
                       │Remarque Dans les versions de GlassFish                                                               │
                       │Server antérieures à 3.1.2,                                                                           │
                       │l'algorithme par défaut était MD5. Si                                                                 │
                       │vous disposez d'applications dépendant                                                                │
                       │de l'algorithme MD5, vous pouvez                                                                      │
                       │remplacer l'algorithme par défaut                                                                     │
                       │SHA-25 à l'aide de la sous-commande                                                                   │
                       │asadmin set :                                                                                         │
                       │                           asadmin> set server.security-service.property.default-digest-algorithm=MD5 │
                       │                                                                                                      │
                       │                                                                                                      │
                       │                       Vous pouvez                                                                    │
                       │                       utiliser la                                                                    │
                       │                       sous-commande                                                                  │
                       │                       asadmin get pour                                                               │
                       │                       déterminer                                                                     │
                       │                       l'algorithme en                                                                │
                       │                       cours                                                                          │
                       │                       d'utilisation :                                                                │
                       │                           asadmin> get server.security-service.property.default-digest-algorithm     │
                       │                                                                                                      │
                       │                                                                                                      │
                       │                       Notez également                                                                │
                       │                       que, pour des                                                                  │
                       │                       raisons de                                                                     │
                       │                       compatibilité                                                                  │
                       │                       descendante, si                                                                │
                       │                       une mise à                                                                     │
                       │                       niveau est                                                                     │
                       │                       effectuée de                                                                   │
                       │                       GlassFish                                                                      │
                       │                       Server v2.x ou                                                                 │
                       │                       v3.0.x vers                                                                    │
                       │                       GlassFish                                                                      │
                       │                       Server 3.1.2,                                                                  │
                       │                       l'algorithme par                                                               │
                       │                       défaut est                                                                     │
                       │                       automatiquement                                                                │
                       │                       défini sur MD5                                                                 │
                       │                       dans les cas où                                                                │
                       │                       l'algorithme de                                                                │
                       │                       synthèse n'avait                                                               │
                       │                       pas été                                                                        │
                       │                       explicitement                                                                  │
                       │                       défini dans                                                                    │
                       │                       l'ancienne                                                                     │
                       │                       version de                                                                     │
                       │                       GlassFish                                                                      │
                       │                       Server.                                                                        │
                       └──────────────────────────────────────────────────────────────────────────────────────────────────────┘

               digestrealm-password-enc-algorithm
                   (Facultatif) Spécifie l'algorithme de cryptage des mots de
                   passe stockés dans la base de données.

                       Note
                       ┌───────────────────────────────────┐
                       │Remarque Si vous ne spécifiez pas  │
                       │d'algorithme de cryptage de mot de │
                       │passe, vous encourez un risque de  │
                       │sécurité.                          │
                       └───────────────────────────────────┘

               encoding
                   (Facultatif) Spécifie le codage. Les valeurs autorisées
                   sont Hex et Base64. Si digest-algorithm est spécifié, la
                   valeur par défaut est Hex. Si digest-algorithm n'est pas
                   spécifié, par défaut aucun codage n'est spécifié.

               charset
                   (Facultatif) Spécifie le jeu de caractères de l'algorithme
                   de synthèse.

           ·   Vous pouvez spécifier les propriétés suivantes pour LDAPRealm :

               directory
                   Indique l'URL LDAP à votre serveur.

               base-dn
                   Spécifie le DN de base LDAP pour l'emplacement des données
                   utilisateur. Ce DN de base peut se trouver à n'importe quel
                   niveau au-dessus des données utilisateur, étant donné
                   qu'une recherche en arborescence est effectuée. Plus
                   l'arbre de recherche est réduit, meilleures sont les
                   performances.

               search-filter
                   (Facultatif) Spécifie le filtre de recherche à utiliser
                   pour trouver l'utilisateur. La valeur par défaut est uid=%s
                   (%s s'étend au nom du sujet).

               group-base-dn
                   (Facultatif) Spécifie le DN de base pour l'emplacement des
                   données de groupes. Par défaut, il est identique au
                   base-dn, mais il peut être affiné si nécessaire.

               group-search-filter
                   (Facultatif) Spécifie le filtre de recherche pour trouver
                   les appartenances de l'utilisateur à des groupes. La valeur
                   par défaut est uniquemember=%d (%d s'étend à l'utilisateur
                   elementDN).

               group-target
                   (Facultatif) Spécifie le nom d'attribut LDAP contenant les
                   entrées des noms de groupes. La valeur par défaut est CN.

               search-bind-dn
                   (Facultatif) Spécifie le DN facultatif utilisé pour
                   authentifier le répertoire d'exécution de la recherche
                   search-filter. Requis uniquement pour les répertoires ne
                   permettant pas de recherche anonyme.

               search-bind-password
                   (Facultatif) Spécifie le mot de passe LDAP pour le DN donné
                   dans search-bind-dn.

OPÉRANDES
       auth_realm_name
           Un nom abrégé pour le domaine. Ce nom est utilisé pour faire
           référence au domaine à partir, par exemple, de web.xml.

EXEMPLES
       Exemple 1, Création d'un nouveau domaine d'authentification
           Cet exemple crée un domaine de fichiers.

               asadmin> create-auth-realm
               --classname com.sun.enterprise.security.auth.realm.file.FileRealm
               --property file=${com.sun.aas.instanceRoot}/config/
               admin-keyfile:jaas-context=fileRealm file
               Command create-auth-realm executed successfully
           Où file est le domaine d'authentification créé.

STATUT DE SORTIE
       0
           sous-commande correctement exécutée

       1
           erreur lors de l'exécution de la sous-commande

VOIR AUSSI
       delete-auth-realm(1), list-auth-realms(1)

       asadmin(1M)

                                 20 sept. 2010            CREATE-AUTH-REALM(1)
