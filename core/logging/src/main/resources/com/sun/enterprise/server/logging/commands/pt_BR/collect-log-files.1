COLLECT-LOG-FILES(1)                                      COLLECT-LOG-FILES(1)

NOME
       collect-log-files - cria um arquivo compactado ZIP de todos os arquivos
       de log disponíveis

SINOPSE
           collect-log-files [--help] [--target target]
           [--retrieve={false|true}] [retrievefilepath]]

DESCRIçãO
       O subcomando collect-log-files coleta todos os arquivos de log
       disponíveis para o servidor de administração de domínios (DAS), para o
       cluster especificado ou para a instância especificada do GlassFish
       Server, e cria um único arquivo compactado ZIP dos arquivos de log. Se
       um cluster for especificado, o arquivo compactado ZIP também conterá o
       arquivo de log do DAS.

       Esse subcomando só é suportado no modo remoto.

OPçõES
       --help, -?
           Exibe o texto de ajuda do subcomando.

       --retrieve
           Especifica se o arquivo compactado ZIP é criado em outro diretório
           que não seja o diretório default.

           Por default, o arquivo compactado ZIP é criado no diretório
           domain-dir/collected-logs. Os nomes dos arquivos ZIP são
           construídos com base no target e no timestamp especificado, da
           seguinte forma:

               log_yyyy-mm-dd_hh-min-sec.zip
           Os valores possíveis são os seguintes:

           false
               O arquivo compactado ZIP será criado no diretório default. Se
               omitido, a opção --retrieve adotará o default false.

           true
               O arquivo compactado ZIP será criado no diretório que o
               operando retrievefilepath especificar. Se retrievefilepath for
               omitido, o arquivo compactado ZIP será criado no diretório
               default.

       --target
           Especifica o destino para o qual os arquivos de log serão
           coletados.

           Os valores possíveis são os seguintes:

           servidor
               Os arquivos de log serão coletados para o DAS (default).

           instance-name
               Os arquivos de log serão coletados para a instância
               especificada do GlassFish Server.

           cluster-name
               Os arquivos de log serão coletados para o cluster especificado
               e para o DAS.

OPERANDOS
       retrievefilepath
           O nome do diretório no qual o arquivo compactado ZIP será criado.
           Se este operando for omitido, o arquivo compactado ZIP será criado
           no diretório default. Se a opção --retrieve for false, esse
           operando será ignorado.

EXEMPLOS
       Exemplo 1, Coletando Arquivos de Log para o Servidor Default
           Este exemplo gera um arquivo compactado ZIP com base nos arquivos
           de log para o servidor default.

               asadmin> collect-log-files
               Created Zip file under /space/gfv3/v3setup/glassfish3/glassfish/domains/domain1/\
               collected-logs/log_2010-12-15_15-46-23.zip.
               Command collect-log-files executed successfully.

       Exemplo 2, Coletando arquivos de log para um cluster
           Este exemplo gera um arquivo compactado ZIP dos arquivos de log
           para um cluster denominado cluster1 e as duas instâncias do
           servidor em execução no cluster.

               asadmin> collect-log-files --target cluster1
               Log files are downloaded for instance1.
               Log files are downloaded for instance2.
               Created Zip file under /space/gfv3/v3setup/glassfish3/glassfish/domains/domain1/\
               collected-logs/log_2010-12-15_15-54-06.zip.
               Command collect-log-files executed successfully.

       Exemplo 3, Coletando Arquivos de Log em Outro Diretório Diferente do
       Diretório Default para um Cluster
           Este exemplo gera um arquivo compactado ZIP dos arquivos de log de
           um cluster denominado cluster1 e de suas duas instâncias de
           servidor. Além disso, salva o arquivo compactado em um diretório
           denominado /space/output.

               asadmin> collect-log-files --target cluster1 --retrieve true /space/output
               Log files are downloaded for instance1.
               Log files are downloaded for instance2.
               Created Zip file under /space/output/log_2010-12-15_15-55-54.zip.
               Command collect-log-files executed successfully.

STATUS DE SAíDA
       0
           subcomando executado com sucesso

       1
           erro ao executar o subcomando

CONSULTE TAMBéM
       list-log-attributes(1), list-log-levels(1), rotate-log(1),
       set-log-attributes(1), set-log-levels(1)

       asadmin(1M)

       "Administering the Logging Service" no Oracle GlassFish Server
       Administration Guide

                             22 de janeiro de 2012        COLLECT-LOG-FILES(1)
