CONFIGURE-LB-WEIGH(1)                                    CONFIGURE-LB-WEIGH(1)

名称
       configure-lb-weight - 为集群实例设置负载平衡权重

提要
           configure-lb-weight [--help] --cluster cluster_name
            instance-name=weight[:instance-name=weight]

说明
       configure-lb-weight 子命令为集群中的服务器实例分配权重。权重可用于
       HTTP、RMI/IIOP 和 JMS 负载平衡。对于 HTTP
       负载平衡器，仅在负载平衡器策略设置为 weighted-round-robin
       时才使用权重。在 create-http-lb-ref 子命令或 set
       子命令中设置负载平衡器策略。

       使用权重来改变传输到集群中不同实例的负载。例如，如果实例位于具有更大容量的计算机上，则为该实例指定更高的权重，使负载平衡器可向实例发送更多请求。默认权重为
       100。如果所有实例具有默认权重，则负载平衡器执行简单的循环负载平衡。

           注意
           ┌─────────────────────────────────────┐
           │注                                   │
           │                                     │
           │           该子命令仅适用于 Oracle   │
           │           GlassFish                 │
           │           Server。该子命令不适用于  │
           │           GlassFish Server 开源版。 │
           └─────────────────────────────────────┘

选项
       --help, -?
           显示子命令的帮助文本。

       --cluster
           集群的名称。

操作数
       instance-name=weight
           实例的名称以及您正为实例分配的权重。权重必须为整数。实例/权重对由冒号分隔。例如，instance1=1:instance2=4
           表示每五个请求中，一个前往实例 1，四个前往实例 2。权重 1 为默认值。

示例
       示例 1, 为集群实例分配负载平衡器权重
           以下子命令将权重 1、1 和 2 分配到 cluster1 集群中的实例 i1、i2 和
           i3。

               asadmin> configure-lb-weight --cluster cluster1 i1=1:i2=1:i3=2
               Command configure-lb-weight executed successfully.

退出状态
       0
           已成功执行子命令

       1
           执行子命令时出现错误

另请参阅
       create-http-lb-ref(1)create-cluster(1)

       asadmin(1M)

                              2010 年 8 月 25 日         CONFIGURE-LB-WEIGH(1)
