CONFIGURE-LB-WEIGH(1)                                    CONFIGURE-LB-WEIGH(1)

參考名
       configure-lb-weight - 設定叢集實例的負載平衡權數

概要
           configure-lb-weight [--help] --cluster cluster_name
            instance-name=weight[:instance-name=weight]

說明
       configure-lb-weight
       子命令會將權數指定給叢集中的伺服器實例。權數可以用於 HTTP、RMI/IIOP 與
       JMS 負載平衡。對 HTTP 負載平衡程式來說，只有在負載平衡程式原則設定為
       weighted-round-robin 時，才能使用權數。負載平衡程式策略在
       create-http-lb-ref 子命令或 set 子命令中進行設定。

       使用權數來調整叢集中不同實例的負載。例如，在容量較大的機器上，就為實例設定較高的權數，如此一來，負載平衡程式就會傳送較多請求到實例中。預設權數為
       100。如果所有實例都有預設權數，負載平衡程式就會執行簡單的循環配置負載平衡。

           注意
           ┌────────────────────────────────────────┐
           │注意                                    │
           │                                        │
           │           此子命令僅適用於 Oracle      │
           │           GlassFish                    │
           │           Server。此子命令不適用於     │
           │           GlassFish Server Open Source │
           │           Edition。                    │
           └────────────────────────────────────────┘

選項
       --help, -?
           顯示子命令的說明文字。

       --cluster
           叢集的名稱。

運算元
       instance-name=weight
           實例名稱及您所指派的權數。權數必須是整數。實例和權數組由冒號分隔。例如，instance1=1:instance2=4
           代表在每 5 項請求中，其中 1 個請求傳送到 instance1，而其他 4
           個則是傳送到 instance2。 比重權值 1 是預設值。

範例
       範例 1, 將負載平衡程式權數指定給叢集實例
           下列子命令會將權數 1、1 和 2 指定給 cluster1 叢集中的實例 i1、 i2
           和 i3。

               asadmin> configure-lb-weight --cluster cluster1 i1=1:i2=1:i3=2
               Command configure-lb-weight executed successfully.

結束狀態
       0
           子命令執行成功

       1
           執行子命令時發生錯誤

另請參閱
       create-http-lb-ref(1)create-cluster(1)

       asadmin(1M)

                              2010 年 8 月 25 日         CONFIGURE-LB-WEIGH(1)
