<?xml version="1.0" encoding="iso-8859-1"?>

<project name="Apache Jakarta Regexp Library source integration" default="build" basedir=".">

    <!-- import build.xml for init target and inherited properties -->
    <import file="build.xml"/>
    <import file="build-taskdefs.xml"/>

    <target name="build" depends="init">
        <antcall target="jakarta-regexp-1.4.publish" />
    </target>

    <!--
        Checkout Jakarta Regexp 1.4 source, build and publish
    -->
    <target name="jakarta-regexp-1.4.checkout" >
        <echo message="checkout jakarta-regexp-1.4 from ${jakarta-regexp-1.4.svn.url}."/>
        <exec executable="svn" dir="${external.dir}" failonerror="true" >
	    <arg line="checkout" />
            <arg line="${jakarta-regexp-1.4.svn.url}" />
            <arg line="jakarta-regexp-1.4" />
	</exec>
    </target>

    <target name="jakarta-regexp-1.4.build" depends="jakarta-regexp-1.4.checkout">
        <!-- build Jakarta Regexp 1.4 -->
        <exec executable="ant" dir="${external.dir}/jakarta-regexp-1.4" failonerror="true" >
	</exec>
   </target>

   <target name="jakarta-regexp-1.4.publish" depends="jakarta-regexp-1.4.build" >
        <mvn.publish.local 
	    jar="${external.dir}/jakarta-regexp-1.4/build/jakarta-regexp-1.4.jar" 
            mvngroup="org.apache.jakarta-regexp" 
            mvnartid="jakarta-regexp" 
            mvnversion="1.4"/>
        <!--<mvn.publish.remote
            jar="${external.dir}/jakarta-regexp-1.4/target/jakarta-regexp-1.4.jar"
            mvngroup="org.apache.jakarta-regexp"
            mvnartid="jakarta-regexp"
            mvnversion="1.4"/>-->
    </target>

</project>
