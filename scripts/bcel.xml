<?xml version="1.0" encoding="iso-8859-1"?>

<project name="Apache BCEL Library source integration" default="build" basedir="..">

    <!-- import build.xml for init target and inherited properties -->
    <import file="${basedir}/build.xml"/>

    <target name="checkout" depends="init,check.svn" unless="skipCheckout">
        <svn.checkout repo="${bcel.svn.url}" dest="bcel"/>
    </target>

    <target name="build" depends="checkout">
        <!-- build Apache BCEL -->
        <mvn2 dir="${glassfish.external.dir}/bcel" 
            goal="org.apache.maven.plugins:maven-one-plugin:1.2:convert"/>
        <mvn.install dir="${glassfish.external.dir}/bcel"/>
    </target>

    <target name="bcel.publish.local" depends="build" >
        <mvn.publish.local
	    file="${glassfish.external.dir}/bcel/target/bcel-${bcel.version}.jar"
            groupId="org.apache.bcel"
            artifactId="bcel"
            version="${bcel.version}"/>
    </target>

    <target name="bcel.publish.remote" depends="build" >
        <mvn.publish.remote
            file="${glassfish.external.dir}/bcel/target/bcel-${bcel.version}.jar"
            groupId="org.apache.bcel"
            artifactId="bcel"
            version="${bcel.version}"/>
    </target>

</project>
