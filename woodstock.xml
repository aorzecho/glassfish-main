<?xml version="1.0" encoding="iso-8859-1"?>

<project name="Woodstock source integration" default="build" basedir=".">

    <!-- import build.xml for init target and inherited properties -->
    <import file="build.xml"/>
    <property name="woodstock.tag" value="Woodstock_402_B3"/>

    <target name="build" depends="init">
        <antcall target="woodstock.build" />
    </target>

    <target name="woodstock.checkout" >
        <echo message="Checking out Woodstock tag ${woodstock.tag} from ${cvsroot}."/>
        <exec executable="cvs" dir="${external.dir}" failonerror="true" >
            <arg line="-d ${cvsroot}"/>
            <arg line="checkout"/>
            <arg line="-r ${woodstock.tag}"/>
            <arg line="woodstock" />
        </exec>
    </target>
    <target name="woodstock.build" depends="woodstock.checkout" >
        <exec executable="ant" dir="${external.dir}/woodstock/master" failonerror="true">
            <arg line="-Djavac.target=1.5 -Djavac.source=1.5"/>
        </exec>
        <exec executable="ant" dir="${external.dir}/woodstock/maven" failonerror="true"/>
    </target>
</project>
